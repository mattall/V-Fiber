'''
File for all sorts of nonsense related to running tests.
A dumping ground for test output
'''
import matplotlib.pyplot as plt

# test vFiber requests being processed over time.
# list of (x, y) where x it time, and y is number of active client threads

l = [(1.0078420639038086, 3), (2.0219831466674805, 7), (3.037006139755249, 9), (4.0563061237335205, 9), (5.071716070175171, 12), (6.0749571323394775, 8), (7.078989028930664, 9), (8.089706182479858, 11), (9.1009840965271, 7), (10.122044086456299, 12), (11.133639097213745, 9), (12.144590139389038, 11), (13.156282186508179, 14), (14.16378402709961, 6), (15.177877187728882, 9), (16.187206029891968, 7), (17.204777002334595, 8), (18.21603012084961, 11), (19.23619318008423, 9), (20.25285315513611, 9), (21.263444185256958, 6), (22.271785020828247, 5), (23.27740216255188, 4), (24.291540145874023, 7), (25.305297136306763, 7), (26.327755212783813, 8), (27.34372305870056, 8), (28.34688711166382, 5), (29.36423110961914, 6), (30.37767720222473, 9), (31.39230513572693, 8), (32.40535306930542, 7), (33.41378617286682, 9), (34.43828201293945, 8), (35.460944175720215, 11), (36.46136808395386, 7), (37.47183799743652, 3), (38.48419499397278, 5), (39.50022101402283, 6), (40.50537610054016, 5), (41.51426100730896, 4), (42.52749300003052, 6), (43.53059005737305, 5), (44.54038906097412, 4), (45.55304002761841, 5), (46.556549072265625, 4), (47.57186317443848, 8), (48.59409213066101, 11), (49.60539102554321, 9), (50.61331510543823, 5), (51.639440059661865, 10), (52.6611270904541, 14), (53.685707092285156, 20), (54.70539903640747, 11), (55.72675704956055, 16), (56.737303018569946, 11), (57.75540804862976, 6), (58.75554418563843, 3), (59.78654599189758, 8), (60.802895069122314, 11)]
plt.title('active client processes')
plt.xlabel('time (seconds)')
plt.ylabel('number of client threads')
plt.plot(*zip(*l))
plt.show()


# requests completed per second, in one minute
l = [(1.0193240642547607, 0.0), (2.042206048965454, 0.0), (3.0435149669647217, 1.3142698634366088), (4.052638053894043, 0.987011410050926), (5.060554027557373, 1.383247755459447), (6.07001805305481, 1.3179532466091932), (7.080107927322388, 1.4124078478252633), (8.098769903182983, 1.3582309574787121), (9.105813026428223, 1.4276594481206124), (10.124733924865723, 1.4815204143943896), (11.128814935684204, 1.3478524071689753), (12.142756938934326, 1.5647187945497556), (13.14891505241394, 1.444986139484709), (14.162780046463013, 1.977012981077304), (15.189724922180176, 2.040853284626209), (16.193015098571777, 1.9144056749958935), (17.24545693397522, 2.3774377308162844), (18.255640029907227, 2.2458812691766448), (19.27712392807007, 2.126873290485959), (20.294032096862793, 2.611605212164474), (21.30951189994812, 2.4871522280211886), (22.328948974609375, 2.776664502682202), (23.332151889801025, 2.6572774038515283), (24.338876962661743, 2.8349705742731213), (25.349111080169678, 2.761438055110351), (26.36546301841736, 2.7308452709404363), (27.378840923309326, 2.739341676664909), (28.39876389503479, 2.6409600177391144), (29.423870086669922, 2.7528669669016765), (30.434813022613525, 2.825711461940006), (31.45737600326538, 2.73385803034153), (32.468376874923706, 2.9259239033094793), (33.48015809059143, 2.98684372186707), (34.48945498466492, 2.9864200534858263), (35.507400035858154, 2.900803773184816), (36.52390003204346, 2.9569679006143517), (37.52397394180298, 2.8781599776052595), (38.53420901298523, 2.854606408631154), (39.55741500854492, 2.9324464193361086), (40.57460594177246, 2.9082229453895048), (41.57616591453552, 2.9584257541409738), (42.58947491645813, 2.9819574026004854), (43.60743594169617, 2.91234733841726), (44.61798596382141, 2.9136232214831654), (45.629539012908936, 2.936694143723223), (46.63682007789612, 2.873266225617092), (47.64948010444641, 2.917135710511755), (48.673989057540894, 2.8968244175202926), (49.68283200263977, 2.8983855025081686), (50.70533204078674, 2.8399380144906297), (51.72398591041565, 2.9773420839361306), (52.73223304748535, 2.9773061167089505), (53.74682307243347, 2.9955258896516295), (54.75753402709961, 2.976759324467223), (55.7752320766449, 2.9762314529124154), (56.797504901885986, 2.9754828190417264), (57.81091499328613, 2.9752167046651175), (58.820971965789795, 2.9921300875878316), (59.832244873046875, 2.991697877621095), (60.84576487541199, 2.958299568894707)]

plt.title('completed requests')
plt.xlabel('time (seconds)')
plt.ylabel('requests completed')
plt.plot(*zip(*l))
plt.show()

# ten minutes, (x,y) -> (time, requests_completed)
l = [(0.00115203857421875, 0), (1.0065529346466064, 0), (2.0084190368652344, 0), (3.0129358768463135, 0), (4.017765045166016, 0), (5.022237062454224, 0), (6.0258588790893555, 0), (7.0310258865356445, 0), (8.035300970077515, 205), (9.035827875137329, 380), (10.036381006240845, 380), (11.040802955627441, 568), (12.043724060058594, 659), (13.046846866607666, 659), (14.052007913589478, 839), (15.055733919143677, 934), (16.061248064041138, 1028), (17.06563091278076, 1028), (18.06635284423828, 1133), (19.071245908737183, 1237), (20.075484037399292, 1339), (21.080666065216064, 1433), (22.085994005203247, 1552), (23.08735489845276, 1663), (24.088711977005005, 1769), (25.092936992645264, 1868), (26.095691919326782, 1967), (27.100952863693237, 2068), (28.105000019073486, 2173), (29.105834007263184, 2173), (30.110899925231934, 2482), (31.11544394493103, 2482), (32.11784291267395, 2584), (33.12241888046265, 2694), (34.127665996551514, 2890), (35.13161897659302, 2973), (36.13656306266785, 2973), (37.141005992889404, 3089), (38.14522194862366, 3191), (39.14955401420593, 3295), (40.1526198387146, 3489), (41.157103061676025, 3489), (42.160073041915894, 3684), (43.16470789909363, 3684), (44.1666738986969, 3796), (45.168253898620605, 3992), (46.17360997200012, 4080), (47.1757709980011, 4080), (48.180248975753784, 4180), (49.18535900115967, 4280), (50.18748998641968, 4469), (51.19091200828552, 4469), (52.19422197341919, 4575), (53.199352979660034, 4760), (54.203688859939575, 4853), (55.20879101753235, 4853), (56.21399998664856, 5041), (57.22012495994568, 5131), (58.223758935928345, 5214), (59.229496002197266, 5305), (60.23424506187439, 5305), (61.237825870513916, 5512), (62.24310803413391, 5512), (63.24727702140808, 5699), (64.25258207321167, 5699), (65.25628185272217, 5891), (66.25975298881531, 5976), (67.26297688484192, 5976), (68.26601505279541, 6074), (69.2712709903717, 6074), (70.2756929397583, 6296), (71.27874398231506, 6396), (72.28387403488159, 6589), (73.28791499137878, 6589), (74.29136395454407, 6690), (75.29706001281738, 6897), (76.30153489112854, 6897), (77.30602502822876, 7000), (78.3107008934021, 7201), (79.31538796424866, 7201), (80.319895029068, 7310), (81.32549500465393, 7310), (82.33064103126526, 7536), (83.33299398422241, 7637), (84.33789300918579, 7839), (85.34289503097534, 7839), (86.34393191337585, 7957), (87.34923791885376, 8145), (88.35331296920776, 8145), (89.35793590545654, 8243), (90.36314702033997, 8340), (91.36691784858704, 8534), (92.36851191520691, 8612), (93.37401390075684, 8708), (94.3758659362793, 8708), (95.37678790092468, 8812), (96.38167190551758, 8925), (97.38693189620972, 9026), (98.39230394363403, 9128), (99.39656400680542, 9229), (100.40168404579163, 9339), (101.40647387504578, 9437), (102.41116499900818, 9545), (103.41579699516296, 9643), (104.42029690742493, 9743), (105.42576384544373, 9844), (106.42816591262817, 10031), (107.43276691436768, 10121), (108.43660402297974, 10207), (109.44057202339172, 10207), (110.44473099708557, 10312), (111.44660592079163, 10422), (112.45203590393066, 10525), (113.45623898506165, 10638), (114.46112895011902, 10741), (115.46684002876282, 10838), (116.47218203544617, 10952), (117.4738130569458, 11138), (118.47861886024475, 11231), (119.4838399887085, 11231), (120.48516798019409, 11332), (121.4906280040741, 11531), (122.49497985839844, 11616), (123.49964785575867, 11616), (124.50457406044006, 11733), (125.50985789299011, 11849), (126.51395893096924, 12047), (127.51696300506592, 12047), (128.52263283729553, 12146), (129.52413988113403, 12247), (130.5280408859253, 12360), (131.53295493125916, 12476), (132.53571605682373, 12476), (133.5404839515686, 12701), (134.54476189613342, 12802), (135.54681086540222, 13008), (136.5526020526886, 13008), (137.55436396598816, 13195), (138.56025791168213, 13195), (139.56427097320557, 13386), (140.56718587875366, 13386), (141.57151293754578, 13570), (142.57610201835632, 13570), (143.57780385017395, 13766), (144.58317303657532, 13766), (145.58782386779785, 13960), (146.59296584129333, 13960), (147.5977189540863, 14168), (148.60029196739197, 14253), (149.6050510406494, 14253), (150.60902905464172, 14361), (151.61433100700378, 14466), (152.61914491653442, 14466), (153.6248459815979, 14692), (154.6294949054718, 14792), (155.6337628364563, 14792), (156.63940691947937, 15019), (157.64460396766663, 15201), (158.64954495429993, 15291), (159.65322494506836, 15291), (160.6560890674591, 15474), (161.66097593307495, 15474), (162.66267585754395, 15667), (163.66702795028687, 15667), (164.6724510192871, 15758), (165.6760768890381, 15880), (166.67797684669495, 15990), (167.68371486663818, 16180), (168.68960189819336, 16180), (169.6941740512848, 16370), (170.69658398628235, 16370), (171.70314598083496, 16478), (172.70646405220032, 16575), (173.70782089233398, 16673), (174.71224689483643, 16770), (175.71657490730286, 16873), (176.71897888183594, 16978), (177.72404789924622, 17186), (178.72899103164673, 17186), (179.73422598838806, 17392), (180.7388379573822, 17392), (181.74449801445007, 17499), (182.7504608631134, 17704), (183.75396990776062, 17704), (184.75970101356506, 17805), (185.76520895957947, 17904), (186.7704050540924, 18019), (187.7748508453369, 18212), (188.77709197998047, 18212), (189.78217387199402, 18325), (190.78608202934265, 18422), (191.79252004623413, 18527), (192.79579091072083, 18625), (193.79964303970337, 18818), (194.8047070503235, 18914), (195.80980706214905, 18914), (196.81546998023987, 19113), (197.82095384597778, 19204), (198.82612204551697, 19204), (199.8269350528717, 19387), (200.8306930065155, 19387), (201.8361039161682, 19487), (202.8418848514557, 19687), (203.8470640182495, 19777), (204.85211992263794, 19872), (205.8556010723114, 19872), (206.860111951828, 20077), (207.86541604995728, 20077), (208.86731505393982, 20267), (209.87126898765564, 20267), (210.8749668598175, 20379), (211.88097286224365, 20483), (212.8865270614624, 20674), (213.89272499084473, 20760), (214.89721703529358, 20760), (215.90058398246765, 20961), (216.90621399879456, 21046), (217.91153001785278, 21046), (218.91296100616455, 21229), (219.91799187660217, 21317), (220.92272090911865, 21408), (221.926372051239, 21408), (222.93071699142456, 21516), (223.93477702140808, 21718), (224.941232919693, 21718), (225.94650602340698, 21910), (226.94819402694702, 21995), (227.95408987998962, 21995), (228.9595239162445, 22183), (229.96458506584167, 22277), (230.96920084953308, 22277), (231.97384595870972, 22376), (232.9769139289856, 22570), (233.9831850528717, 22570), (234.98752188682556, 22758), (235.9930808544159, 22852), (236.99698686599731, 22852), (237.999125957489, 22950), (239.00360703468323, 23057), (240.00842785835266, 23057), (241.0136890411377, 23276), (242.01743602752686, 23481), (243.02306604385376, 23481), (244.02474093437195, 23687), (245.027361869812, 23687), (246.03328895568848, 23895), (247.0383539199829, 23987), (248.04400086402893, 23987), (249.04679083824158, 24085), (250.04785299301147, 24183), (251.0536298751831, 24374), (252.05690503120422, 24374), (253.0583689212799, 24473), (254.0620460510254, 24660), (255.06694889068604, 24660), (256.0725519657135, 24866), (257.07737588882446, 24956), (258.08264899253845, 25046), (259.0870249271393, 25046), (260.0930850505829, 25159), (261.0964078903198, 25354), (262.10138487815857, 25443), (263.1061999797821, 25443), (264.1095838546753, 25540), (265.1147789955139, 25641), (266.11748600006104, 25840), (267.1234619617462, 25840), (268.12750792503357, 25945), (269.1328430175781, 26147), (270.13710284233093, 26147), (271.14337491989136, 26251), (272.14826703071594, 26353), (273.1530029773712, 26471), (274.15736198425293, 26572), (275.16240191459656, 26688), (276.1662690639496, 26875), (277.1702370643616, 26964), (278.1752450466156, 27059), (279.17758798599243, 27059), (280.183217048645, 27161), (281.18850588798523, 27357), (282.19459199905396, 27357), (283.19863390922546, 27454), (284.2044849395752, 27562), (285.2066249847412, 27755), (286.2097179889679, 27755), (287.21470499038696, 27956), (288.21851205825806, 27956), (289.223886013031, 28147), (290.22703289985657, 28147), (291.2315640449524, 28347), (292.23701190948486, 28347), (293.24181294441223, 28539), (294.2483260631561, 28629), (295.2536768913269, 28716), (296.25716495513916, 28716), (297.2605490684509, 28821), (298.2653319835663, 29015), (299.27044796943665, 29015), (300.274493932724, 29129), (301.2771120071411, 29230), (302.2813060283661, 29334), (303.28662395477295, 29437), (304.29177498817444, 29545), (305.294970035553, 29643), (306.3003659248352, 29743), (307.3036289215088, 29830), (308.30755400657654, 29955), (309.309809923172, 30056), (310.3135230541229, 30255), (311.3163950443268, 30255), (312.3202450275421, 30358), (313.324266910553, 30465), (314.326376914978, 30465), (315.33282804489136, 30764), (316.33720088005066, 30858), (317.3425409793854, 30858), (318.3466248512268, 30967), (319.35313296318054, 31066), (320.3586709499359, 31181), (321.3636028766632, 31283), (322.36943006515503, 31397), (323.3748378753662, 31508), (324.37976002693176, 31614), (325.38469099998474, 31816), (326.38674783706665, 31816), (327.39218306541443, 31926), (328.3966488838196, 32126), (329.4028899669647, 32126), (330.4073510169983, 32227), (331.41058802604675, 32330), (332.41525197029114, 32525), (333.4172649383545, 32525), (334.42004203796387, 32633), (335.42494201660156, 32828), (336.4296410083771, 32924), (337.43497586250305, 33018), (338.44055700302124, 33018), (339.4455988407135, 33125), (340.45131492614746, 33327), (341.4552249908447, 33327), (342.46015191078186, 33515), (343.4653160572052, 33515), (344.46930599212646, 33622), (345.4750928878784, 33815), (346.481360912323, 33815), (347.4861829280853, 33930), (348.49296283721924, 34036), (349.49807596206665, 34137), (350.50390696525574, 34240), (351.5086169242859, 34439), (352.5138568878174, 34439), (353.5151569843292, 34536), (354.51933884620667, 34536), (355.5253629684448, 34865), (356.53097701072693, 34958), (357.53727984428406, 34958), (358.54368591308594, 35060), (359.5451579093933, 35252), (360.5503468513489, 35347), (361.55566596984863, 35347), (362.56055188179016, 35464), (363.56573700904846, 35464), (364.57062101364136, 35687), (365.5766170024872, 35795), (366.5798499584198, 35893), (367.5850329399109, 36008), (368.58998703956604, 36123), (369.5964620113373, 36231), (370.6019549369812, 36339), (371.6054198741913, 36440), (372.6070840358734, 36542), (373.6120319366455, 36641), (374.6176269054413, 36838), (375.6240088939667, 36931), (376.62897992134094, 36931), (377.63453006744385, 37140), (378.63568592071533, 37231), (379.63697385787964, 37231), (380.64165902137756, 37420), (381.6477599143982, 37510), (382.65324687957764, 37510), (383.6582100391388, 37510), (384.6642048358917, 37825), (385.6707799434662, 37825), (386.676962852478, 37929), (387.68110704421997, 38122), (388.6861069202423, 38122), (389.6877980232239, 38309), (390.6935648918152, 38309), (391.69924783706665, 38502), (392.7045509815216, 38502), (393.7083828449249, 38703), (394.7140200138092, 38703), (395.7186939716339, 38812), (396.7226128578186, 38812), (397.7282888889313, 39123), (398.73387598991394, 39216), (399.73795199394226, 39308), (400.74406695365906, 39308), (401.74852299690247, 39413), (402.7541320323944, 39602), (403.7578749656677, 39602), (404.7635838985443, 39798), (405.767963886261, 39798), (406.7735810279846, 39912), (407.77892088890076, 40012), (408.7838759422302, 40114), (409.7902979850769, 40299), (410.7952790260315, 40299), (411.8021168708801, 40503), (412.80471992492676, 40598), (413.8079528808594, 40598), (414.81111097335815, 40598), (415.81660985946655, 40795), (416.8196940422058, 41017), (417.8258090019226, 41017), (418.83062195777893, 41114), (419.83608984947205, 41315), (420.84297800064087, 41397), (421.84842705726624, 41490), (422.8545410633087, 41490), (423.8613748550415, 41490), (424.86588287353516, 41712), (425.86805486679077, 41809), (426.87395095825195, 41911), (427.8773410320282, 42027), (428.88284397125244, 42136), (429.8886229991913, 42234), (430.89498805999756, 42333), (431.89705896377563, 42532), (432.90329790115356, 42532), (433.90732502937317, 42646), (434.9118928909302, 42754), (435.91806983947754, 42859), (436.92052388191223, 42971), (437.9258859157562, 43071), (438.9320728778839, 43177), (439.937047958374, 43286), (440.9421830177307, 43398), (441.94794487953186, 43505), (442.95399284362793, 43607), (443.9592230319977, 43709), (444.96559500694275, 43806), (445.9678659439087, 44000), (446.9736909866333, 44000), (447.9784438610077, 44105), (448.9832899570465, 44204), (449.98785400390625, 44308), (450.9925730228424, 44414), (451.9947249889374, 44511), (453.0004439353943, 44598), (454.0055079460144, 44719), (455.01105189323425, 44829), (456.017511844635, 44932), (457.02170491218567, 45117), (458.0278220176697, 45117), (459.0310289859772, 45226), (460.03728699684143, 45315), (461.0434980392456, 45529), (462.0459940433502, 45621), (463.04909086227417, 45621), (464.0522270202637, 45826), (465.0577690601349, 45826), (466.06252694129944, 45923), (467.067852973938, 46025), (468.0742619037628, 46221), (469.0774459838867, 46221), (470.0829858779907, 46324), (471.08625388145447, 46427), (472.091050863266, 46531), (473.0956530570984, 46630), (474.10198998451233, 46730), (475.10645484924316, 46830), (476.1136770248413, 47031), (477.1196880340576, 47031), (478.1245939731598, 47231), (479.1282639503479, 47318), (480.13389801979065, 47318), (481.1379358768463, 47423), (482.1433000564575, 47531), (483.14753794670105, 47717), (484.14904594421387, 47717), (485.1545648574829, 47824), (486.1590189933777, 47935), (487.16385197639465, 48133), (488.1661469936371, 48133), (489.1727068424225, 48237), (490.17757987976074, 48423), (491.18444991111755, 48423), (492.1899960041046, 48525), (493.1968629360199, 48623), (494.20140504837036, 48715), (495.20777201652527, 48927), (496.21459102630615, 49016), (497.21625685691833, 49016), (498.2228138446808, 49210), (499.22750306129456, 49293), (500.23386096954346, 49386), (501.2359209060669, 49477), (502.23845195770264, 49560), (503.24403405189514, 49560), (504.2494180202484, 49666), (505.2549829483032, 49783), (506.25917196273804, 49885), (507.2651309967041, 49992), (508.2708668708801, 50090), (509.27498602867126, 50190), (510.2774770259857, 50294), (511.2797808647156, 50398), (512.2848539352417, 50506), (513.2902488708496, 50608), (514.2959809303284, 50716), (515.3030240535736, 50829), (516.309005022049, 50926), (517.3147070407867, 51036), (518.3182249069214, 51148), (519.3245930671692, 51341), (520.3297140598297, 51341), (521.3362140655518, 51532), (522.3431038856506, 51532), (523.3478670120239, 51730), (524.3504550457001, 51824), (525.3563458919525, 51920), (526.3617889881134, 51920), (527.3681950569153, 52031), (528.3716809749603, 52224), (529.3774569034576, 52224), (530.3832519054413, 52413), (531.3899810314178, 52413), (532.3954310417175, 52609), (533.4014508724213, 52701), (534.4049580097198, 52786), (535.4100880622864, 52786), (536.4165990352631, 52883), (537.420331954956, 52989), (538.4298129081726, 53186), (539.4336838722229, 53273), (540.4397549629211, 53273), (541.4454729557037, 53453), (542.4504270553589, 53453), (543.4562108516693, 53562), (544.4628119468689, 53667), (545.4668328762054, 53855), (546.4715180397034, 53855), (547.4784710407257, 53953), (548.483824968338, 54055), (549.4884788990021, 54245), (550.4947350025177, 54245), (551.4993748664856, 54348), (552.5061860084534, 54548), (553.508306980133, 54548), (554.5121579170227, 54648), (555.517166852951, 54751), (556.5209469795227, 54859), (557.5257568359375, 54960), (558.53262591362, 54960), (559.5372710227966, 55185), (560.5409028530121, 55286), (561.5453360080719, 55393), (562.5505158901215, 55588), (563.5565588474274, 55588), (564.5631859302521, 55686), (565.568687915802, 55878), (566.575003862381, 55878), (567.5786590576172, 55975), (568.5854909420013, 56084), (569.588301897049, 56190), (570.5950679779053, 56385), (571.6018478870392, 56479), (572.6067290306091, 56479), (573.6122610569, 56666), (574.617063999176, 56755), (575.6206369400024, 56755), (576.6262009143829, 56861), (577.6283419132233, 57055), (578.6345119476318, 57146), (579.6397140026093, 57146), (580.6458568572998, 57246), (581.6492390632629, 57358), (582.6544940471649, 57457), (583.6600489616394, 57655), (584.6666638851166, 57748), (585.668879032135, 57748), (586.6727669239044, 57952), (587.6783909797668, 57952), (588.6831140518188, 57952), (589.6888408660889, 58188), (590.694582939148, 58289), (591.6984529495239, 58480), (592.7002248764038, 58480), (593.7064599990845, 58674), (594.7124650478363, 58674), (595.7176330089569, 58788), (596.7243649959564, 58884), (597.7310099601746, 59002), (598.7351009845734, 59196), (599.7402138710022, 59286), (600.7461459636688, 59365), (601.7518570423126, 59365), (602.7535960674286, 59475), (603.758710861206, 59590), (604.7650139331818, 59681), (605.7696390151978, 59774), (606.7742800712585, 59774), (607.779746055603, 59875)]

l3 = [(x1,t - s) for (x,s), (x1,t) in zip(l, l[1:])]

mpl.rcParams.update({'font.size': 60})
axes = plt.gca()
axes.set_ylim([-5,350])
axes.set_xlim([0,610])
plt.plot(*zip(*l3))
plt.show()

l2 = [0, 0, 0, 0, 0, 0, 0, 205, 175, 0, 188, 91, 0, 180, 95, 94, 0, 105, 104, 102, 94, 119, 111, 106, 99, 99, 101, 105, 0, 309, 0, 102, 110, 196, 83, 0, 116, 102, 104, 194, 0, 195, 0, 112, 196, 88, 0, 100, 100, 189, 0, 106, 185, 93, 0, 188, 90, 83, 91, 0, 207, 0, 187, 0, 192, 85, 0, 98, 0, 222, 100, 193, 0, 101, 207, 0, 103, 201, 0, 109, 0, 226, 101, 202, 0, 118, 188, 0, 98, 97, 194, 78, 96, 0, 104, 113, 101, 102, 101, 110, 98, 108, 98, 100, 101, 187, 90, 86, 0, 105, 110, 103, 113, 103, 97, 114, 186, 93, 0, 101, 199, 85, 0, 117, 116, 198, 0, 99, 101, 113, 116, 0, 225, 101, 206, 0, 187, 0, 191, 0, 184, 0, 196, 0, 194, 0, 208, 85, 0, 108, 105, 0, 226, 100, 0, 227, 182, 90, 0, 183, 0, 193, 0, 91, 122, 110, 190, 0, 190, 0, 108, 97, 98, 97, 103, 105, 208, 0, 206, 0, 107, 205, 0, 101, 99, 115, 193, 0, 113, 97, 105, 98, 193, 96, 0, 199, 91, 0, 183, 0, 100, 200, 90, 95, 0, 205, 0, 190, 0, 112, 104, 191, 86, 0, 201, 85, 0, 183, 88, 91, 0, 108, 202, 0, 192, 85, 0, 188, 94, 0, 99, 194, 0, 188, 94, 0, 98, 107, 0, 219, 205, 0, 206, 0, 208, 92, 0, 98, 98, 191, 0, 99, 187, 0, 206, 90, 90, 0, 113, 195, 89, 0, 97, 101, 199, 0, 105, 202, 0, 104, 102, 118, 101, 116, 187, 89, 95, 0, 102, 196, 0, 97, 108, 193, 0, 201, 0, 191, 0, 200, 0, 192, 90, 87, 0, 105, 194, 0, 114, 101, 104, 103, 108, 98, 100, 87, 125, 101, 199, 0, 103, 107, 0, 299, 94, 0, 109, 99, 115, 102, 114, 111, 106, 202, 0, 110, 200, 0, 101, 103, 195, 0, 108, 195, 96, 94, 0, 107, 202, 0, 188, 0, 107, 193, 0, 115, 106, 101, 103, 199, 0, 97, 0, 329, 93, 0, 102, 192, 95, 0, 117, 0, 223, 108, 98, 115, 115, 108, 108, 101, 102, 99, 197, 93, 0, 209, 91, 0, 189, 90, 0, 0, 315, 0, 104, 193, 0, 187, 0, 193, 0, 201, 0, 109, 0, 311, 93, 92, 0, 105, 189, 0, 196, 0, 114, 100, 102, 185, 0, 204, 95, 0, 0, 197, 222, 0, 97, 201, 82, 93, 0, 0, 222, 97, 102, 116, 109, 98, 99, 199, 0, 114, 108, 105, 112, 100, 106, 109, 112, 107, 102, 102, 97, 194, 0, 105, 99, 104, 106, 97, 87, 121, 110, 103, 185, 0, 109, 89, 214, 92, 0, 205, 0, 97, 102, 196, 0, 103, 103, 104, 99, 100, 100, 201, 0, 200, 87, 0, 105, 108, 186, 0, 107, 111, 198, 0, 104, 186, 0, 102, 98, 92, 212, 89, 0, 194, 83, 93, 91, 83, 0, 106, 117, 102, 107, 98, 100, 104, 104, 108, 102, 108, 113, 97, 110, 112, 193, 0, 191, 0, 198, 94, 96, 0, 111, 193, 0, 189, 0, 196, 92, 85, 0, 97, 106, 197, 87, 0, 180, 0, 109, 105, 188, 0, 98, 102, 190, 0, 103, 200, 0, 100, 103, 108, 101, 0, 225, 101, 107, 195, 0, 98, 192, 0, 97, 109, 106, 195, 94, 0, 187, 89, 0, 106, 194, 91, 0, 100, 112, 99, 198, 93, 0, 204, 0, 0, 236, 101, 191, 0, 194, 0, 114, 96, 118, 194, 90, 79, 0, 110, 115, 91, 93, 0, 101]

l2 = [t - s for s, t in zip(l2, l2[1:])]

plt.title('completed requests')
plt.xlabel('time (seconds)')
plt.ylabel('requests completed')
plt.plot(l2)
plt.show()

# 10 minutes, failure at 100 seconds, failure at 200 seconds, server 1 brought back at 210 seconds
l = [(0.0014910697937011719, 0), (1.0045900344848633, 0), (2.0081539154052734, 0), (3.0104198455810547, 208), (4.014925003051758, 208), (5.020508050918579, 208), (6.025272846221924, 208), (7.02989387512207, 320), (8.033159971237183, 417), (9.03786587715149, 520), (10.04254698753357, 621), (11.047528982162476, 725), (12.050778865814209, 855), (13.054678916931152, 961), (14.05860686302185, 1058), (15.063590049743652, 1175), (16.06788206100464, 1369), (17.068984985351562, 1369), (18.071255922317505, 1475), (19.07538104057312, 1475), (20.080508947372437, 1788), (21.08505606651306, 1881), (22.08722996711731, 1881), (23.092664003372192, 1989), (24.097564935684204, 2111), (25.09925103187561, 2208), (26.10421586036682, 2313), (27.109004020690918, 2413), (28.11405897140503, 2612), (29.118650913238525, 2612), (30.124188899993896, 2709), (31.127490997314453, 2822), (32.1325900554657, 2928), (33.13800597190857, 3044), (34.142377853393555, 3228), (35.146158933639526, 3228), (36.15087103843689, 3432), (37.15546703338623, 3432), (38.15891098976135, 3540), (39.16408395767212, 3737), (40.168022871017456, 3830), (41.173900842666626, 3830), (42.17734384536743, 3943), (43.17819595336914, 4032), (44.17890501022339, 4032), (45.18381905555725, 4235), (46.18772506713867, 4432), (47.193397998809814, 4516), (48.195317029953, 4516), (49.197859048843384, 4626), (50.202674865722656, 4732), (51.20843005180359, 4840), (52.21392488479614, 4951), (53.218595027923584, 5143), (54.223450899124146, 5143), (55.227277994155884, 5227), (56.22819399833679, 5334), (57.232292890548706, 5432), (58.23618984222412, 5554), (59.24089694023132, 5656), (60.24636507034302, 5756), (61.24798107147217, 5867), (62.2508819103241, 5971), (63.255751848220825, 6071), (64.26059889793396, 6266), (65.26537704467773, 6266), (66.27003693580627, 6378), (67.27448606491089, 6569), (68.27788400650024, 6569), (69.28323888778687, 6682), (70.28755688667297, 6859), (71.29132604598999, 6859), (72.29545402526855, 6960), (73.30017399787903, 7142), (74.30482506752014, 7142), (75.30963397026062, 7336), (76.31173992156982, 7336), (77.31574296951294, 7435), (78.31747102737427, 7539), (79.3182590007782, 7734), (80.32366585731506, 7734), (81.3267719745636, 7850), (82.3316490650177, 7970), (83.33678483963013, 8160), (84.34084796905518, 8160), (85.3458468914032, 8252), (86.35150790214539, 8252), (87.35587906837463, 8356), (88.35814785957336, 8451), (89.36426901817322, 8646), (90.36919283866882, 8646), (91.37461495399475, 8749), (92.37854790687561, 8851), (93.38019299507141, 8950), (94.38485884666443, 9148), (95.38902592658997, 9148), (96.39380693435669, 9256), (97.39738893508911, 9360), (98.40125584602356, 9574), (99.40601587295532, 9670), (100.40937805175781, 9670), (101.76146101951599, 9768), (102.76526403427124, 9887), (103.76914191246033, 10075), (104.77456283569336, 10151), (105.7785758972168, 10151), (106.78332090377808, 10234), (107.78813099861145, 10425), (108.79183602333069, 10425), (109.7971260547638, 10637), (110.80165886878967, 10727), (111.8055899143219, 10727), (112.81135487556458, 11014), (113.81566405296326, 11014), (114.81859588623047, 11114), (115.82246494293213, 11227), (116.82437586784363, 11394), (117.8286190032959, 11394), (118.82982897758484, 11494), (119.83498787879944, 11494), (120.83933901786804, 11728), (121.84108686447144, 11928), (122.84613800048828, 11928), (123.84770703315735, 12030), (124.85001707077026, 12138), (125.85509705543518, 12242), (126.85895705223083, 12242), (127.86463689804077, 12440), (128.86800503730774, 12440), (129.87276101112366, 12556), (130.8776240348816, 12748), (131.8827199935913, 12748), (132.8888669013977, 12847), (133.89366006851196, 13031), (134.89832186698914, 13106), (135.90148901939392, 13106), (136.90640497207642, 13320), (137.9107859134674, 13404), (138.91569900512695, 13500), (139.91757202148438, 13585), (140.92302203178406, 13585), (141.9285819530487, 13776), (142.93391799926758, 13776), (143.93867206573486, 13972), (144.94210386276245, 13972), (145.9458248615265, 14085), (146.94941401481628, 14188), (147.95458793640137, 14287), (148.9601218700409, 14489), (149.96480202674866, 14581), (150.96658086776733, 14581), (151.9711399078369, 14684), (152.97527503967285, 14874), (153.97983288764954, 14874), (154.98375606536865, 15080), (155.98808598518372, 15080), (156.993577003479, 15179), (157.9979498386383, 15368), (159.00133895874023, 15368), (160.0066578388214, 15561), (161.0086259841919, 15561), (162.0145618915558, 15764), (163.01992392539978, 15764), (164.0237979888916, 15862), (165.0273458957672, 16032), (166.03342604637146, 16121), (167.0375988483429, 16121), (168.0431408882141, 16121), (169.04868388175964, 16213), (170.05497193336487, 16321), (171.05752086639404, 16530), (172.06045198440552, 16530), (173.0660059452057, 16639), (174.07033586502075, 16820), (175.07606387138367, 16820), (176.0801420211792, 16918), (177.0850648880005, 17106), (178.08882188796997, 17201), (179.09279203414917, 17201), (180.0985929965973, 17407), (181.10291695594788, 17489), (182.1075918674469, 17675), (183.1109640598297, 17772), (184.11487889289856, 17881), (185.11935591697693, 18076), (186.12479090690613, 18076), (187.1276729106903, 18184), (188.1301188468933, 18274), (189.1362988948822, 18396), (190.13848495483398, 18505), (191.14430594444275, 18605), (192.1462059020996, 18706), (193.14808106422424, 18803), (194.1541929244995, 19006), (195.15874099731445, 19006), (196.16046500205994, 19212), (197.16182684898376, 19212), (198.16682887077332, 19401), (199.16791701316833, 19490), (200.17262887954712, 19490), (201.45496797561646, 19582), (202.45798301696777, 19582), (203.4588749408722, 19582), (204.46457600593567, 19582), (205.46667289733887, 19582), (206.47189593315125, 19582), (207.47541499137878, 19582), (208.4806890487671, 19582), (209.4865288734436, 19582), (210.49166297912598, 19582), (211.7596950531006, 19582), (212.7650909423828, 19582), (213.7696168422699, 19760), (214.7746000289917, 20131), (215.7786090373993, 20962), (216.78432297706604, 20962), (217.78944492340088, 21068), (218.7954239845276, 21181), (219.79933285713196, 21289), (220.80464386940002, 21481), (221.80887484550476, 21573), (222.81353092193604, 21665), (223.81752586364746, 21665), (224.82170987129211, 21765), (225.82674503326416, 21963), (226.82963705062866, 21963), (227.83265495300293, 22075), (228.83878207206726, 22261), (229.84128594398499, 22261), (230.8470058441162, 22469), (231.85222387313843, 22564), (232.8573579788208, 22655), (233.8603799343109, 22655), (234.86645197868347, 22950), (235.87097191810608, 22950), (236.8764259815216, 23050), (237.8815519809723, 23248), (238.8865430355072, 23248), (239.89121890068054, 23354), (240.8961410522461, 23549), (241.8990068435669, 23549), (242.90563297271729, 23647), (243.9104199409485, 23761), (244.91653490066528, 23979), (245.92133593559265, 23979), (246.9268000125885, 24082), (247.92908787727356, 24279), (248.9331910610199, 24279), (249.9389488697052, 24380), (250.94445991516113, 24476), (251.94908094406128, 24571), (252.9528889656067, 24571), (253.9568328857422, 24661), (254.9615330696106, 24751), (255.9673879146576, 24856), (256.9722468852997, 25049), (257.97602891921997, 25145), (258.9809629917145, 25145), (259.9858088493347, 25262), (260.9906630516052, 25366), (261.992928981781, 25475), (262.9989869594574, 25598), (264.0042769908905, 25715), (265.0088589191437, 25812), (266.01149702072144, 25912), (267.017235994339, 26022), (268.02230191230774, 26125), (269.02423787117004, 26316), (270.029109954834, 26316), (271.0351369380951, 26420), (272.0411419868469, 26527), (273.04707884788513, 26713), (274.05164885520935, 26713), (275.05672001838684, 26805), (276.0586738586426, 26893), (277.06486105918884, 27112), (278.0673818588257, 27112), (279.072448015213, 27210), (280.07637906074524, 27316), (281.08217000961304, 27423), (282.08713483810425, 27624), (283.0921540260315, 27716), (284.0972259044647, 27716), (285.1017370223999, 27893), (286.1071050167084, 27893), (287.1127178668976, 27994), (288.118047952652, 28106), (289.1236209869385, 28203), (290.12920904159546, 28304), (291.1314208507538, 28416), (292.13589000701904, 28507), (293.1368680000305, 28616), (294.1401209831238, 28727), (295.1434428691864, 28919), (296.14909386634827, 29014), (297.15502190589905, 29014), (298.1594259738922, 29110), (299.16211104393005, 29294), (300.1675078868866, 29387), (301.1704959869385, 29387), (302.1753089427948, 29500), (303.1805839538574, 29699), (304.1860280036926, 29699), (305.1888699531555, 29797), (306.1935269832611, 29894), (307.1987519264221, 30092), (308.20478796958923, 30092), (309.2097158432007, 30191), (310.2158899307251, 30397), (311.2208180427551, 30589), (312.22603607177734, 30589), (313.2315230369568, 30783), (314.23696994781494, 30783), (315.2416138648987, 30894), (316.24739384651184, 31001), (317.2487349510193, 31110), (318.2542769908905, 31214), (319.25905299186707, 31328), (320.2604548931122, 31434), (321.265722990036, 31541), (322.2704339027405, 31646), (323.2753269672394, 31840), (324.28040194511414, 31840), (325.28423595428467, 32055), (326.28887605667114, 32055), (327.2937638759613, 32175), (328.29844784736633, 32275), (329.30416107177734, 32388), (330.30883502960205, 32494), (331.31114888191223, 32592), (332.31675386428833, 32708), (333.32126688957214, 32785), (334.3258738517761, 32980), (335.330894947052, 33068), (336.33584690093994, 33151), (337.339870929718, 33151), (338.34610891342163, 33336), (339.3500258922577, 33336), (340.3552129268646, 33527), (341.35985803604126, 33527), (342.36381101608276, 33727), (343.36898398399353, 33727), (344.3757860660553, 33923), (345.38047099113464, 33923), (346.3859510421753, 34121), (347.39242696762085, 34121), (348.39760398864746, 34320), (349.4042248725891, 34320), (350.4098699092865, 34513), (351.4152629375458, 34513), (352.41701102256775, 34630), (353.4219579696655, 34728), (354.4263708591461, 34897), (355.4289879798889, 34989), (356.435054063797, 34989), (357.4400029182434, 35101), (358.4454998970032, 35210), (359.4503140449524, 35314), (360.4560070037842, 35499), (361.4599859714508, 35499), (362.4654178619385, 35613), (363.46999502182007, 35722), (364.4756908416748, 35845), (365.47933292388916, 36044), (366.4855239391327, 36044), (367.4868869781494, 36146), (368.4916000366211, 36250), (369.49665784835815, 36352), (370.5004940032959, 36455), (371.5056710243225, 36640), (372.5101640224457, 36640), (373.51258087158203, 36751), (374.51794600486755, 36835), (375.52023005485535, 36835), (376.5258049964905, 36932), (377.5297758579254, 37222), (378.53449988365173, 37222), (379.5393488407135, 37330), (380.5443458557129, 37434), (381.5509078502655, 37544), (382.55357694625854, 37643), (383.5581889152527, 37740), (384.5632379055023, 37839), (385.5675690174103, 37948), (386.5698890686035, 38062), (387.5750460624695, 38262), (388.58014488220215, 38353), (389.5824110507965, 38353), (390.5871798992157, 38557), (391.5943808555603, 38647), (392.60020184516907, 38647), (393.6065390110016, 38760), (394.6098198890686, 38867), (395.6163148880005, 39063), (396.6180970668793, 39063), (397.62425088882446, 39164), (398.62960505485535, 39253), (399.63517689704895, 39352), (400.64119601249695, 39456), (401.64675402641296, 39553), (402.64974093437195, 39656), (403.65647292137146, 39757), (404.6610939502716, 39861), (405.6668498516083, 39962), (406.66825699806213, 40074), (407.67016196250916, 40260), (408.6763870716095, 40260), (409.68111300468445, 40374), (410.68738293647766, 40564), (411.69373202323914, 40564), (412.69837403297424, 40762), (413.70042395591736, 40762), (414.70632004737854, 40863), (415.71020007133484, 40863), (416.7160210609436, 40971), (417.7195429801941, 41069), (418.7259349822998, 41176), (419.7300720214844, 41276), (420.7363920211792, 41473), (421.73834800720215, 41566), (422.7439239025116, 41566), (423.7500400543213, 41676), (424.75548100471497, 41854), (425.7600860595703, 41941), (426.7663929462433, 41941), (427.77206897735596, 42036), (428.7775719165802, 42238), (429.78299283981323, 42238), (430.78731894493103, 42425), (431.79379296302795, 42520), (432.7986099720001, 42520), (433.8045618534088, 42609), (434.81006598472595, 42804), (435.81672406196594, 42804), (436.8210098743439, 42904), (437.82754492759705, 43074), (438.83010697364807, 43170), (439.8348619937897, 43170), (440.8384590148926, 43271), (441.8447148799896, 43439), (442.8496558666229, 43439), (443.8554129600525, 43543), (444.8620789051056, 43634), (445.8681468963623, 43862), (446.87081384658813, 43980), (447.8767759799957, 44100), (448.8836238384247, 44293), (449.8888280391693, 44293), (450.89339089393616, 44410), (451.8985798358917, 44516), (452.9053659439087, 44723), (453.9094400405884, 44723), (454.91435384750366, 44828), (455.9187259674072, 44926), (456.9200849533081, 44926), (457.92507004737854, 45126), (458.93014883995056, 45126), (459.9357328414917, 45232), (460.9417119026184, 45331), (461.94775104522705, 45528), (462.95291090011597, 45528), (463.9585030078888, 45629), (464.96302485466003, 45821), (465.96847200393677, 45821), (466.9747049808502, 46017), (467.9807438850403, 46110), (468.9867260456085, 46110), (469.99339294433594, 46200), (470.99884390830994, 46302), (472.0012948513031, 46408), (473.00402092933655, 46510), (474.01088094711304, 46707), (475.01650190353394, 46707), (476.0226888656616, 46810), (477.02814388275146, 46908), (478.03028297424316, 47005), (479.03685903549194, 47209), (480.0438849925995, 47209), (481.05015301704407, 47325), (482.052983045578, 47435), (483.058012008667, 47638), (484.06330394744873, 47734), (485.06834983825684, 47734), (486.0749740600586, 47933), (487.08015990257263, 48016), (488.08711290359497, 48016), (489.0931570529938, 48219), (490.09824299812317, 48219), (491.1001889705658, 48328), (492.1047840118408, 48439), (493.11163687705994, 48537), (494.11730194091797, 48656), (495.1205880641937, 48753), (496.1225929260254, 48849), (497.1271209716797, 48975), (498.13003492355347, 48975), (499.13545083999634, 49084), (500.1405429840088, 49188), (501.14215302467346, 49289), (502.147362947464, 49404), (503.1532578468323, 49505), (504.1604299545288, 49614), (505.16659593582153, 49715), (506.17145586013794, 49827), (507.1777398586273, 50026), (508.1793270111084, 50026), (509.1853630542755, 50133), (510.19046902656555, 50247), (511.19547390937805, 50345), (512.2021479606628, 50454), (513.2080628871918, 50553), (514.2123959064484, 50652), (515.2182998657227, 50754), (516.2220158576965, 50938), (517.2278878688812, 51037), (518.2310969829559, 51154), (519.234060049057, 51251), (520.2384469509125, 51453), (521.2431778907776, 51564), (522.2496440410614, 51662), (523.2556459903717, 51776), (524.260892868042, 51977), (525.2670979499817, 52069), (526.2729208469391, 52149), (527.2779679298401, 52149), (528.2839229106903, 52254), (529.2886319160461, 52358), (530.2948808670044, 52456), (531.300528049469, 52563), (532.3044068813324, 52763), (533.3103020191193, 52854), (534.3163640499115, 52942), (535.3218438625336, 53037), (536.3283360004425, 53037), (537.3335750102997, 53125), (538.3389019966125, 53222), (539.3439090251923, 53222), (540.3500480651855, 53420), (541.356260061264, 53420), (542.3605599403381, 53509), (543.3673250675201, 53599), (544.3721280097961, 53699), (545.3784239292145, 53813), (546.385372877121, 53911), (547.3908500671387, 54016), (548.397439956665, 54122), (549.400848865509, 54226), (550.4089620113373, 54326), (551.4200029373169, 54423), (552.4277029037476, 54523), (553.4387450218201, 54621), (554.442137002945, 54811), (555.4493119716644, 54893), (556.4602420330048, 54893), (557.4684619903564, 55006), (558.4783048629761, 55106), (559.4899878501892, 55203), (560.4995069503784, 55396), (561.5090570449829, 55396), (562.5199239253998, 55504), (563.529599905014, 55704), (564.5402328968048, 55790), (565.5476069450378, 55790), (566.5552968978882, 55790), (567.5633869171143, 56028), (568.5736699104309, 56221), (569.5801079273224, 56221), (570.5895910263062, 56318), (571.5965139865875, 56494), (572.5997970104218, 56494), (573.6083040237427, 56683), (574.6186690330505, 56769), (575.6304218769073, 56858), (576.6394150257111, 56858), (577.6488988399506, 56970), (578.6575829982758, 57163), (579.6676740646362, 57163), (580.6789228916168, 57258), (581.6903939247131, 57258), (582.7002990245819, 57452), (583.7101130485535, 57535), (584.7217299938202, 57535), (585.7318179607391, 57632), (586.7407050132751, 57827), (587.7497670650482, 57915), (588.7606430053711, 57915), (589.7718968391418, 58016), (590.7818970680237, 58117), (591.7851209640503, 58238), (592.7967619895935, 58336), (593.7998008728027, 58628), (594.8102328777313, 58738), (595.8216259479523, 58835), (596.8303258419037, 58948), (597.8424088954926, 59139), (598.8521709442139, 59223), (599.8624820709229, 59312), (600.8721239566803, 59312), (601.8826839923859, 59407), (602.8921630382538, 59502), (603.8994140625, 59609), (604.9039640426636, 59609), (605.9144630432129, 59720)]

l3 = [(x1,t - s) for (x,s), (x1,t) in zip(l, l[1:])]


mpl.rcParams.update({'font.size': 60})
axes = plt.gca()
axes.set_ylim([-5,210])
axes.set_xlim([0,610])
plt.plot(*zip(*l3))
plt.show()


# #ten minutes failure test
#             if START_TIME + 60 < time() < START_TIME + 61:
#                 # kill server 1
#             if START_TIME + 120 < time() < START_TIME + 121:
#                 # kill server 2
#             if START_TIME + 150 < time() < START_TIME + 151:
#                 # bring back server 1
#             if START_TIME + 200 < time() < START_TIME + 201:
#                 # bring back server 2
#             if START_TIME + 420 < time() < START_TIME + 421:
#                 # kill servers 2 and 3
#             if START_TIME + 450 < time() < START_TIME + 451:
#                 # bring back server 2
l = [(0.0019550323486328125, 0), (1.0035040378570557, 0), (2.007750988006592, 0), (3.0090548992156982, 0), (4.013756990432739, 0), (5.016956090927124, 182), (6.02100396156311, 182), (7.026670932769775, 288), (8.030575037002563, 413), (9.032226085662842, 512), (10.033650875091553, 612), (11.038421869277954, 723), (12.041125059127808, 829), (13.04576301574707, 930), (14.050348043441772, 1021), (15.054796934127808, 1243), (16.058691024780273, 1243), (17.063060998916626, 1367), (18.0675048828125, 1555), (19.070162057876587, 1555), (20.073920965194702, 1653), (21.07783794403076, 1851), (22.078568935394287, 1851), (23.082138061523438, 2043), (24.0854229927063, 2131), (25.089986085891724, 2219), (26.094438076019287, 2219), (27.099318027496338, 2428), (28.10291290283203, 2516), (29.108336925506592, 2516), (30.113079071044922, 2616), (31.117820024490356, 2720), (32.12239098548889, 2824), (33.12770199775696, 2928), (34.13120698928833, 3131), (35.13594698905945, 3131), (36.14060401916504, 3238), (37.14486289024353, 3337), (38.14938807487488, 3444), (39.152342081069946, 3654), (40.15677785873413, 3748), (41.16039490699768, 3842), (42.166122913360596, 3938), (43.170695066452026, 3938), (44.17129993438721, 3938), (45.17673587799072, 4047), (46.18149709701538, 4242), (47.18605589866638, 4242), (48.19061493873596, 4342), (49.19476294517517, 4450), (50.19887900352478, 4644), (51.2041289806366, 4734), (52.209744930267334, 4734), (53.213764905929565, 4833), (54.21731400489807, 4945), (55.22279095649719, 5059), (56.22820997238159, 5158), (57.230607986450195, 5258), (58.2321240901947, 5370), (59.23291206359863, 5476), (60.23814797401428, 5585), (61.57314491271973, 5795), (62.57776498794556, 5795), (63.582200050354004, 6001), (64.5871729850769, 6102), (65.5920889377594, 6102), (66.59753799438477, 6203), (67.59826302528381, 6382), (68.60197401046753, 6382), (69.6068480014801, 6485), (70.612389087677, 6590), (71.61708092689514, 6782), (72.62216305732727, 6871), (73.62772703170776, 6871), (74.63211607933044, 6969), (75.63382697105408, 7064), (76.6389229297638, 7164), (77.64284491539001, 7272), (78.64809489250183, 7380), (79.64919090270996, 7502), (80.65394902229309, 7696), (81.65916991233826, 7696), (82.66487097740173, 7812), (83.66957902908325, 7917), (84.6733250617981, 8027), (85.67731308937073, 8027), (86.68109393119812, 8242), (87.68213605880737, 8242), (88.68385601043701, 8341), (89.68760895729065, 8441), (90.69176387786865, 8538), (91.69599795341492, 8729), (92.69753098487854, 8823), (93.702712059021, 8823), (94.70624709129333, 9014), (95.71140694618225, 9106), (96.71329998970032, 9106), (97.7180380821228, 9213), (98.72204208374023, 9410), (99.72780299186707, 9494), (100.73027992248535, 9494), (101.73263502120972, 9606), (102.7377290725708, 9707), (103.74180293083191, 9892), (104.74415588378906, 9892), (105.74848103523254, 10002), (106.75073599815369, 10085), (107.75636196136475, 10381), (108.76094198226929, 10468), (109.76619005203247, 10468), (110.76928997039795, 10563), (111.77262806892395, 10747), (112.77729487419128, 10747), (113.77919006347656, 10847), (114.78370690345764, 11040), (115.78835201263428, 11040), (116.79442691802979, 11137), (117.79960203170776, 11335), (118.8041319847107, 11430), (119.80868792533875, 11430), (120.81170701980591, 11536), (122.11921691894531, 11737), (123.12447309494019, 11737), (124.12780404090881, 11737), (125.12921690940857, 11737), (126.13307595252991, 11737), (127.13875198364258, 11737), (128.14377307891846, 11737), (129.14911699295044, 11737), (130.15354704856873, 11737), (131.15890192985535, 11737), (132.16323900222778, 11737), (133.16772890090942, 11737), (134.16863894462585, 11737), (135.17124605178833, 11737), (136.17380499839783, 11737), (137.17955994606018, 11737), (138.1856439113617, 11737), (139.19127702713013, 11737), (140.19627499580383, 11737), (141.19808101654053, 11737), (142.20277309417725, 11737), (143.2077910900116, 11737), (144.21091890335083, 11737), (145.21261501312256, 11737), (146.2182559967041, 11737), (147.2221109867096, 11737), (148.2279670238495, 11737), (149.23142099380493, 11737), (150.232519865036, 11737), (151.50251698493958, 11737), (152.50756788253784, 11737), (153.51191091537476, 11823), (154.51642394065857, 13185), (155.52115201950073, 14849), (156.52671790122986, 14943), (157.52851390838623, 14943), (158.53103804588318, 15049), (159.53394508361816, 15147), (160.53969407081604, 15246), (161.54450607299805, 15352), (162.54806995391846, 15467), (163.55177187919617, 15655), (164.55758500099182, 15750), (165.55925393104553, 15833), (166.5636670589447, 15925), (167.56838297843933, 15925), (168.573912858963, 16024), (169.5788779258728, 16116), (170.58363008499146, 16217), (171.58909606933594, 16326), (172.59061193466187, 16326), (173.59585189819336, 16520), (174.6008059978485, 16612), (175.6055190563202, 16612), (176.61159706115723, 16805), (177.61678099632263, 16805), (178.62207794189453, 16976), (179.62700200080872, 17068), (180.63179397583008, 17162), (181.6370530128479, 17162), (182.64308309555054, 17274), (183.64832496643066, 17358), (184.6535770893097, 17553), (185.65924191474915, 17553), (186.66384387016296, 17746), (187.6693730354309, 17746), (188.67387008666992, 17848), (189.67853093147278, 17945), (190.68189001083374, 18042), (191.68507885932922, 18236), (192.68999600410461, 18236), (193.69585609436035, 18437), (194.7010259628296, 18635), (195.7025420665741, 18635), (196.70736694335938, 18752), (197.71217703819275, 18851), (198.71807193756104, 19038), (199.72085094451904, 19127), (200.72510886192322, 19127), (201.99585795402527, 19335), (203.0016770362854, 19335), (204.00253701210022, 19335), (205.00821995735168, 19335), (206.0124270915985, 19335), (207.01828408241272, 19335), (208.0220410823822, 19438), (209.02679896354675, 19541), (210.03133606910706, 20036), (211.0322048664093, 20167), (212.03821396827698, 20380), (213.04199409484863, 20380), (214.04302096366882, 20380), (215.04597306251526, 20671), (216.05138993263245, 20671), (217.0570240020752, 20772), (218.06176686286926, 20880), (219.0673749446869, 21078), (220.07161402702332, 21078), (221.07379698753357, 21278), (222.07925605773926, 21374), (223.08508586883545, 21374), (224.08990097045898, 21568), (225.09498286247253, 21664), (226.09845900535583, 21664), (227.10347390174866, 21754), (228.10923194885254, 21868), (229.1121129989624, 21968), (230.11755990982056, 22076), (231.1214098930359, 22260), (232.12474393844604, 22260), (233.13060808181763, 22370), (234.13231801986694, 22370), (235.13834190368652, 22604), (236.14364504814148, 22815), (237.1483609676361, 22815), (238.15281295776367, 23015), (239.159038066864, 23105), (240.16357898712158, 23105), (241.1673619747162, 23208), (242.17328691482544, 23323), (243.17851305007935, 23422), (244.18235206604004, 23600), (245.188148021698, 23600), (246.19341588020325, 23705), (247.19837188720703, 23809), (248.20293188095093, 23909), (249.20836997032166, 24011), (250.2097029685974, 24218), (251.21293687820435, 24218), (252.2178919315338, 24319), (253.221440076828, 24529), (254.22678899765015, 24529), (255.2311499118805, 24529), (256.23501896858215, 24621), (257.23933386802673, 24748), (258.241553068161, 24849), (259.24388003349304, 24952), (260.24914598464966, 25153), (261.2514500617981, 25153), (262.2547199726105, 25354), (263.25999903678894, 25454), (264.2613880634308, 25553), (265.26645708084106, 25663), (266.2723820209503, 25858), (267.2742540836334, 25858), (268.280072927475, 26046), (269.2821309566498, 26046), (270.28875207901, 26334), (271.29444193840027, 26432), (272.2995500564575, 26628), (273.3050820827484, 26628), (274.30984902381897, 26725), (275.31604290008545, 26834), (276.3219349384308, 26939), (277.32717394828796, 27041), (278.33161306381226, 27254), (279.3355360031128, 27254), (280.3398630619049, 27358), (281.3444230556488, 27563), (282.3503530025482, 27563), (283.3543338775635, 27679), (284.3592779636383, 27790), (285.36343789100647, 27893), (286.3714599609375, 28000), (287.38276195526123, 28098), (288.3905739784241, 28207), (289.4007840156555, 28313), (290.4113268852234, 28418), (291.4224970340729, 28515), (292.4329090118408, 28613), (293.4369559288025, 28809), (294.43899488449097, 28809), (295.44205689430237, 28917), (296.44340085983276, 29012), (297.449511051178, 29098), (298.4523630142212, 29098), (299.4584889411926, 29279), (300.4648668766022, 29279), (301.4697320461273, 29377), (302.4719989299774, 29571), (303.4736819267273, 29571), (304.47597789764404, 29678), (305.48156690597534, 29776), (306.4862229824066, 29979), (307.4920198917389, 29979), (308.49682092666626, 30171), (309.49987602233887, 30265), (310.50346302986145, 30265), (311.509006023407, 30376), (312.5143189430237, 30592), (313.5193929672241, 30592), (314.52156805992126, 30695), (315.526762008667, 30877), (316.53078389167786, 30963), (317.53592586517334, 30963), (318.54113698005676, 31157), (319.54683899879456, 31157), (320.5517978668213, 31157), (321.5576550960541, 31402), (322.5641100406647, 31505), (323.5690999031067, 31619), (324.57228803634644, 31732), (325.57803297042847, 31844), (326.5829839706421, 31945), (327.58851289749146, 32050), (328.5898609161377, 32152), (329.595321893692, 32256), (330.5999479293823, 32455), (331.605103969574, 32455), (332.610249042511, 32764), (333.61510396003723, 32857), (334.61989402770996, 32857), (335.62339305877686, 33040), (336.6290009021759, 33040), (337.6325030326843, 33232), (338.6384770870209, 33232), (339.6443040370941, 33340), (340.6504728794098, 33455), (341.65309596061707, 33559), (342.6590430736542, 33657), (343.6648859977722, 33859), (344.6696388721466, 33859), (345.6742949485779, 33972), (346.6798210144043, 34078), (347.6809139251709, 34177), (348.684632062912, 34275), (349.69047498703003, 34375), (350.69631695747375, 34483), (351.70026302337646, 34586), (352.7052640914917, 34698), (353.71052503585815, 34798), (354.7120430469513, 34905), (355.7165150642395, 35105), (356.7212219238281, 35105), (357.7262499332428, 35221), (358.7309250831604, 35324), (359.73246788978577, 35527), (360.73839807510376, 35527), (361.7440769672394, 35717), (362.7490749359131, 35809), (363.7537200450897, 35809), (364.7593710422516, 36019), (365.7650740146637, 36019), (366.769996881485, 36213), (367.7741119861603, 36304), (368.7799620628357, 36304), (369.78313994407654, 36400), (370.78897190093994, 36502), (371.79495191574097, 36688), (372.8004820346832, 36782), (373.8073298931122, 36782), (374.81257700920105, 36883), (375.81459403038025, 36984), (376.8195209503174, 37084), (377.8237578868866, 37186), (378.8292450904846, 37186), (379.8356590270996, 37377), (380.83967208862305, 37377), (381.8453059196472, 37573), (382.8509600162506, 37668), (383.8574728965759, 37668), (384.8623869419098, 37766), (385.8639118671417, 37864), (386.8696639537811, 37962), (387.8749270439148, 38064), (388.8795518875122, 38176), (389.8853840827942, 38281), (390.890291929245, 38391), (391.89645409584045, 38501), (392.90129494667053, 38695), (393.90302300453186, 38695), (394.90730595588684, 38808), (395.9122669696808, 38905), (396.91683888435364, 39095), (397.91895294189453, 39207), (398.92323303222656, 39313), (399.9298689365387, 39512), (400.93411207199097, 39512), (401.93894386291504, 39613), (402.942990064621, 39715), (403.94534707069397, 39835), (404.9511880874634, 40021), (405.9568979740143, 40021), (406.9608850479126, 40130), (407.9662048816681, 40312), (408.9698820114136, 40312), (409.9736318588257, 40522), (410.97597193717957, 40616), (411.981153011322, 40616), (412.98277401924133, 40712), (413.98893189430237, 40826), (414.9938340187073, 40931), (415.99673104286194, 41136), (417.0027229785919, 41227), (418.00709295272827, 41227), (419.0105080604553, 41330), (420.01333689689636, 41419), (421.5903389453888, 41915), (422.5973410606384, 41915), (423.6012499332428, 41915), (424.60794496536255, 41915), (425.612676858902, 41915), (426.61461186408997, 41915), (427.6187698841095, 41915), (428.62305998802185, 41915), (429.6248688697815, 41915), (430.63029289245605, 41915), (431.6333270072937, 41915), (432.6390469074249, 41915), (433.64258790016174, 41915), (434.6490490436554, 41915), (435.6567540168762, 41915), (436.6617350578308, 41915), (437.66749596595764, 41915), (438.6724419593811, 41915), (439.67937302589417, 41915), (440.68225502967834, 41915), (441.6857318878174, 41915), (442.69067788124084, 41915), (443.6972539424896, 41915), (444.70388889312744, 41915), (445.70919704437256, 41915), (446.7157099246979, 41915), (447.7212450504303, 41915), (448.72326588630676, 41915), (449.730495929718, 41915), (450.73740005493164, 41915), (452.0057690143585, 44773), (453.0097780227661, 44773), (454.01126408576965, 44773), (455.01394987106323, 44773), (456.0163838863373, 44773), (457.02128505706787, 44773), (458.02484488487244, 44773), (459.0301020145416, 45067), (460.034952878952, 45156), (461.0419840812683, 45156), (462.0441908836365, 45258), (463.05086302757263, 45459), (464.0542149543762, 45459), (465.05831003189087, 45561), (466.0631470680237, 45758), (467.0667290687561, 45758), (468.07279896736145, 45855), (469.0758810043335, 45962), (470.08137106895447, 46150), (471.0841360092163, 46150), (472.0901460647583, 46265), (473.09513902664185, 46464), (474.1000928878784, 46464), (475.10740303993225, 46560), (476.1110589504242, 46768), (477.11631202697754, 46768), (478.1215720176697, 46872), (479.12852692604065, 46976), (480.13349890708923, 47170), (481.1393098831177, 47257), (482.1459450721741, 47257), (483.151771068573, 47257), (484.15444707870483, 47571), (485.16088795661926, 47659), (486.16597509384155, 47659), (487.17166090011597, 47840), (488.1774570941925, 47915), (489.1832458972931, 48005), (490.18986892700195, 48005), (491.1946110725403, 48099), (492.19987201690674, 48218), (493.2038938999176, 48322), (494.2102429866791, 48429), (495.2173960208893, 48529), (496.2243609428406, 48729), (497.2304050922394, 48729), (498.2338240146637, 48914), (499.24040508270264, 48914), (500.2447030544281, 49105), (501.25017404556274, 49105), (502.25760293006897, 49209), (503.2640039920807, 49401), (504.26547503471375, 49401), (505.27155208587646, 49506), (506.27433490753174, 49609), (507.28033804893494, 49716), (508.28714203834534, 49822), (509.2915680408478, 49932), (510.29802894592285, 50029), (511.3039789199829, 50139), (512.3114850521088, 50227), (513.3168089389801, 50346), (514.3215670585632, 50555), (515.3231360912323, 50555), (516.3278670310974, 50657), (517.3334319591522, 50849), (518.3393468856812, 50933), (519.3443949222565, 50933), (520.3508839607239, 51045), (521.357668876648, 51161), (522.3635339736938, 51265), (523.3706848621368, 51460), (524.3743698596954, 51460), (525.3805069923401, 51573), (526.3852639198303, 51670), (527.3914310932159, 51771), (528.3972549438477, 51964), (529.4019119739532, 52053), (530.408215045929, 52053), (531.4149470329285, 52157), (532.4211730957031, 52269), (533.4238369464874, 52459), (534.430634021759, 52553), (535.4337129592896, 52553), (536.4408059120178, 52753), (537.4477319717407, 52753), (538.4532589912415, 52753), (539.4570820331573, 52978), (540.4634799957275, 53084), (541.4673199653625, 53270), (542.4734590053558, 53270), (543.4786860942841, 53373), (544.483864068985, 53473), (545.4899508953094, 53664), (546.4952418804169, 53744), (547.5012629032135, 53744), (548.5031268596649, 53849), (549.5103139877319, 54043), (550.5137460231781, 54128), (551.5192790031433, 54128), (552.5218949317932, 54226), (553.5292990207672, 54331), (554.53369307518, 54520), (555.5376479625702, 54520), (556.5433719158173, 54723), (557.550726890564, 54723), (558.5565829277039, 54902), (559.5616309642792, 54991), (560.567624092102, 54991), (561.5730168819427, 55194), (562.5794289112091, 55263), (563.5839600563049, 55263), (564.5897529125214, 55445), (565.5933718681335, 55445), (566.6012668609619, 55553), (567.6078519821167, 55669), (568.6135950088501, 55784), (569.6210758686066, 55882), (570.6287319660187, 56071), (571.6335129737854, 56071), (572.6393699645996, 56270), (573.6442918777466, 56358), (574.6511769294739, 56358), (575.658194065094, 56444), (576.6642248630524, 56562), (577.6706030368805, 56753), (578.6725549697876, 56839), (579.6780300140381, 56929), (580.6818809509277, 57023), (581.6865599155426, 57023), (582.690798997879, 57129), (583.6937959194183, 57320), (584.6997818946838, 57320), (585.7039210796356, 57422), (586.7085099220276, 57422), (587.7138428688049, 57657), (588.7187869548798, 57843), (589.7237169742584, 57843), (590.7292900085449, 57942), (591.7359910011292, 58133), (592.7424600124359, 58226), (593.7453758716583, 58226), (594.7516660690308, 58420), (595.755658864975, 58420), (596.7606620788574, 58535), (597.7672169208527, 58649), (598.7725548744202, 58758), (599.7783088684082, 58865), (600.7836768627167, 58865), (601.785943031311, 59087), (602.7907018661499, 59200), (603.7966899871826, 59305), (604.8019769191742, 59419), (605.808944940567, 59530), (606.8135960102081, 59622), (607.8147280216217, 59710)]

l3 = [(x1,t - s) for (x,s), (x1,t) in zip(l, l[1:])]

axes = plt.gca()
axes.set_ylim([-5,360])
axes.set_xlim([0,610])

mpl.rcParams.update({'font.size': 60})

plt.axvline(x=60, color = 'red', label="server 1 fails")
plt.axvline(x=120, color = 'red', label="Deadstop, server 2 fails")
plt.axvline(x=150, color = 'green', label="server 1 recovers")
plt.axvline(x=200, color = 'green', label="server 2 recovers")
plt.axvline(x=420, color = 'red', label="Deadstop, server 2 and 3 fail")
plt.axvline(x=450, color = 'green', label="server 2 recovers")

plt.txt(60,300,'server 1 fails')

# revive = [150, 200, 450]
# for p in revive:
#     plt.axvline(x=p, color = 'green')
#
# dead = [60, 120, 420]
# for p in dead:
#     plt.axvline(x=p, color = 'red')

plt.plot(*zip(*l3))
plt.show()


#ten min no failure

### ten minutes, no failures, constant 50 reqs per second
l = [(0.0018229484558105469, 0), (1.006422996520996, 0), (2.0104470252990723, 0), (3.0151619911193848, 33), (4.01993203163147, 33), (5.024847984313965, 121), (6.0290749073028564, 121), (7.0347700119018555, 170), (8.039215087890625, 219), (9.041299104690552, 303), (10.046931028366089, 341), (11.051813125610352, 341), (12.056773900985718, 393), (13.060689926147461, 442), (14.063476085662842, 533), (15.067863941192627, 568), (16.07215905189514, 568), (17.07681107521057, 618), (18.077779054641724, 715), (19.080032110214233, 755), (20.085285902023315, 755), (21.08923101425171, 807), (22.093754053115845, 856), (23.09841799736023, 912), (24.1036159992218, 965), (25.107625007629395, 1054), (26.11140513420105, 1054), (27.115144968032837, 1054), (28.119059085845947, 1111), (29.124583959579468, 1163), (30.129269123077393, 1218), (31.134366035461426, 1320), (32.13938903808594, 1320), (33.1440110206604, 1377), (34.149035930633545, 1426), (35.150092124938965, 1481), (36.15420603752136, 1540), (37.15983510017395, 1540), (38.165178060531616, 1604), (39.1689829826355, 1731), (40.17340612411499, 1832), (41.17852306365967, 1876), (42.18303394317627, 1876), (43.18825697898865, 1925), (44.19135093688965, 2028), (45.19643807411194, 2081), (46.20044803619385, 2130), (47.20313096046448, 2130), (48.20855712890625, 2252), (49.21034502983093, 2300), (50.21522903442383, 2400), (51.21961307525635, 2400), (52.223334074020386, 2450), (53.228277921676636, 2450), (54.231329917907715, 2499), (55.23657011985779, 2589), (56.24155592918396, 2589), (57.24614691734314, 2638), (58.25014901161194, 2697), (59.25480508804321, 2784), (60.25931000709534, 2784), (61.261712074279785, 2833), (62.26600503921509, 2924), (63.27060794830322, 2924), (64.27381992340088, 3008), (65.27816104888916, 3008), (66.2827730178833, 3056), (67.28833103179932, 3146), (68.29213905334473, 3146), (69.29683589935303, 3193), (70.30117893218994, 3242), (71.30693292617798, 3296), (72.31230902671814, 3346), (73.31639289855957, 3400), (74.32048606872559, 3453), (75.32484602928162, 3552), (76.32976412773132, 3552), (77.3307409286499, 3608), (78.3340950012207, 3653), (79.33929705619812, 3744), (80.34170603752136, 3744), (81.34587001800537, 3790), (82.35016703605652, 3837), (83.35572910308838, 3887), (84.36050009727478, 3934), (85.36558103561401, 4027), (86.36976194381714, 4027), (87.37234497070312, 4073), (88.37533497810364, 4119), (89.3798279762268, 4157), (90.3850450515747, 4220), (91.38923406600952, 4272), (92.3938980102539, 4368), (93.39834690093994, 4408), (94.40010809898376, 4408), (95.40540099143982, 4456), (96.41090297698975, 4505), (97.41600108146667, 4550), (98.42077493667603, 4606), (99.42556595802307, 4703), (100.4301929473877, 4703), (101.43354511260986, 4793), (102.43906092643738, 4793), (103.44177508354187, 4847), (104.44605302810669, 4885), (105.45145797729492, 4941), (106.45695400238037, 5039), (107.45995807647705, 5039), (108.46604108810425, 5095), (109.4714879989624, 5095), (110.47636795043945, 5215), (111.48052310943604, 5273), (112.4862060546875, 5327), (113.49200797080994, 5417), (114.49526405334473, 5455), (115.50021195411682, 5496), (116.5044949054718, 5536), (117.50909805297852, 5536), (118.51295208930969, 5536), (119.51678109169006, 5650), (120.52175307273865, 5705), (121.52734804153442, 5754), (122.5308940410614, 5858), (123.53531098365784, 5907), (124.54050707817078, 6007), (125.54374194145203, 6007), (126.54837012290955, 6105), (127.55312013626099, 6105), (128.55733799934387, 6105), (129.5605480670929, 6197), (130.56568503379822, 6197), (131.56996297836304, 6311), (132.5747709274292, 6360), (133.57748007774353, 6454), (134.5816330909729, 6454), (135.58334493637085, 6509), (136.58843994140625, 6604), (137.59389090538025, 6604), (138.59800910949707, 6659), (139.6000690460205, 6708), (140.6043779850006, 6757), (141.60732007026672, 6809), (142.61114597320557, 6863), (143.61622190475464, 6916), (144.62110304832458, 6968), (145.62590098381042, 7066), (146.6304190158844, 7113), (147.63255906105042, 7113), (148.63784003257751, 7162), (149.64204096794128, 7220), (150.64711499214172, 7314), (151.65190291404724, 7314), (152.6574580669403, 7357), (153.66039896011353, 7357), (154.66602611541748, 7442), (155.67171907424927, 7492), (156.67771196365356, 7492), (157.68279600143433, 7492), (158.6878731250763, 7603), (159.6923589706421, 7658), (160.69751691818237, 7707), (161.70092391967773, 7756), (162.70587706565857, 7848), (163.7100179195404, 7848), (164.71325206756592, 7848), (165.7174780368805, 7963), (166.72162413597107, 8014), (167.7277069091797, 8108), (168.73292899131775, 8148), (169.7371051311493, 8187), (170.74234795570374, 8227), (171.74786710739136, 8268), (172.75159907341003, 8268), (173.7576780319214, 8314), (174.76274299621582, 8414), (175.76742601394653, 8414), (176.76998209953308, 8500), (177.77406001091003, 8500), (178.77723097801208, 8500), (179.7828450202942, 8594), (180.78815507888794, 8594), (181.79238891601562, 8682), (182.79339694976807, 8682), (183.79776906967163, 8731), (184.80197596549988, 8731), (185.8071711063385, 8885), (186.81083607673645, 8885), (187.81504201889038, 8939), (188.81912302970886, 8998), (189.82411003112793, 9082), (190.82834696769714, 9082), (191.83059000968933, 9137), (192.83499908447266, 9137), (193.83924293518066, 9308), (194.8444209098816, 9308), (195.84529209136963, 9401), (196.85087394714355, 9440), (197.85650992393494, 9440), (198.8614809513092, 9601), (199.86571192741394, 9656), (200.8709270954132, 9712), (201.87690210342407, 9764), (202.881019115448, 9816), (203.88573503494263, 9852), (204.89134311676025, 9852), (205.8944959640503, 9900), (206.90014100074768, 9995), (207.90611791610718, 10043), (208.9114010334015, 10092), (209.91603302955627, 10148), (210.9213569164276, 10245), (211.92633605003357, 10245), (212.93097400665283, 10343), (213.93688201904297, 10343), (214.94242000579834, 10400), (215.94779992103577, 10491), (216.950345993042, 10491), (217.956237077713, 10530), (218.96207404136658, 10637), (219.96522092819214, 10678), (220.9707489013672, 10678), (221.97317504882812, 10737), (222.97471594810486, 10786), (223.97938013076782, 10839), (224.9814429283142, 10898), (225.9852831363678, 10989), (226.98975491523743, 11030), (227.9938941001892, 11030), (228.99914407730103, 11030), (230.00385308265686, 11091), (231.01001811027527, 11091), (232.0152609348297, 11206), (233.02062010765076, 11254), (234.025386095047, 11302), (235.03073692321777, 11302), (236.0340220928192, 11414), (237.03676509857178, 11465), (238.0425510406494, 11564), (239.0479531288147, 11603), (240.05390405654907, 11603), (241.05896592140198, 11647), (242.06400609016418, 11697), (243.06878304481506, 11792), (244.07408595085144, 11792), (245.07916593551636, 11887), (246.08411812782288, 11887), (247.08998107910156, 11946), (248.09330701828003, 11994), (249.09840297698975, 12040), (250.10367608070374, 12092), (251.10976600646973, 12149), (252.1156759262085, 12246), (253.12086009979248, 12246), (254.1255750656128, 12303), (255.13049793243408, 12303), (256.1350440979004, 12351), (257.14066195487976, 12402), (258.14460802078247, 12455), (259.1500790119171, 12504), (260.15631794929504, 12561), (261.16244196891785, 12667), (262.16725397109985, 12703), (263.17134499549866, 12746), (264.17683601379395, 12746), (265.182501077652, 12792), (266.18774700164795, 12849), (267.19319009780884, 12898), (268.19842195510864, 12898), (269.20357513427734, 13008), (270.20817708969116, 13008), (271.21086502075195, 13125), (272.2151939868927, 13220), (273.2211480140686, 13262), (274.22274804115295, 13262), (275.22661089897156, 13349), (276.2319300174713, 13349), (277.23748111724854, 13400), (278.24300503730774, 13451), (279.248153924942, 13451), (280.2524631023407, 13632), (281.25837111473083, 13683), (282.26397800445557, 13683), (283.2700901031494, 13749), (284.27220010757446, 13900), (285.27735710144043, 13900), (286.28213906288147, 13954), (287.2873001098633, 14045), (288.2930839061737, 14045), (289.29842710494995, 14096), (290.3035309314728, 14193), (291.3090250492096, 14193), (292.31420397758484, 14287), (293.31961011886597, 14322), (294.326180934906, 14322), (295.3314609527588, 14376), (296.33673191070557, 14428), (297.34254002571106, 14484), (298.3477051258087, 14538), (299.3526830673218, 14584), (300.35491704940796, 14696), (301.3600630760193, 14696), (302.3660979270935, 14787), (303.37138199806213, 14787), (304.3752911090851, 14840), (305.3810279369354, 14840), (306.38668298721313, 14885), (307.3923680782318, 14934), (308.39766812324524, 14990), (309.4023439884186, 15043), (310.40784096717834, 15094), (311.41121912002563, 15094), (312.4153130054474, 15156), (313.41776609420776, 15309), (314.4220540523529, 15309), (315.4250340461731, 15356), (316.4303529262543, 15408), (317.4359529018402, 15503), (318.44076013565063, 15550), (319.44305992126465, 15550), (320.4475939273834, 15592), (321.45320105552673, 15653), (322.45803689956665, 15711), (323.46303510665894, 15808), (324.4687309265137, 15808), (325.4742228984833, 15895), (326.4783389568329, 15895), (327.48376512527466, 15895), (328.4905490875244, 16000), (329.49325609207153, 16061), (330.4981589317322, 16104), (331.5031929016113, 16148), (332.509064912796, 16148), (333.51444697380066, 16200), (334.51959109306335, 16244), (335.5216760635376, 16300), (336.5268111228943, 16300), (337.5320861339569, 16418), (338.537141084671, 16480), (339.5422360897064, 16569), (340.5433769226074, 16569), (341.54896903038025, 16569), (342.55343294143677, 16684), (343.5587229728699, 16770), (344.5637540817261, 16770), (345.5686469078064, 16821), (346.57496094703674, 16874), (347.58081912994385, 16970), (348.5833029747009, 17014), (349.588828086853, 17014), (350.594703912735, 17066), (351.59789299964905, 17166), (352.60177397727966, 17198), (353.6071801185608, 17198), (354.61194801330566, 17198), (355.61676812171936, 17293), (356.6216320991516, 17389), (357.62615299224854, 17431), (358.6315610408783, 17431), (359.6362819671631, 17478), (360.6412019729614, 17576), (361.64569211006165, 17617), (362.650799036026, 17746), (363.6553740501404, 17746), (364.6616780757904, 17797), (365.66457200050354, 17843), (366.6703441143036, 17911), (367.6764659881592, 18009), (368.68265104293823, 18049), (369.6884660720825, 18049), (370.69360303878784, 18101), (371.6991150379181, 18193), (372.70236110687256, 18193), (373.7074909210205, 18241), (374.7119719982147, 18291), (375.7166790962219, 18342), (376.7216229438782, 18396), (377.72618198394775, 18444), (378.73051404953003, 18499), (379.7347869873047, 18544), (380.7393500804901, 18597), (381.74507904052734, 18697), (382.7503590583801, 18697), (383.7550439834595, 18758), (384.76156306266785, 18858), (385.7675039768219, 18858), (386.7714309692383, 18956), (387.7760751247406, 18956), (388.78158712387085, 19050), (389.7860131263733, 19050), (390.7917449474335, 19088), (391.7970480918884, 19159), (392.8029239177704, 19253), (393.80933904647827, 19253), (394.81547808647156, 19299), (395.82056498527527, 19299), (396.82601404190063, 19410), (397.83234095573425, 19510), (398.83673191070557, 19510), (399.8416359424591, 19559), (400.8438649177551, 19610), (401.8497779369354, 19610), (402.8546950817108, 19735), (403.86150908470154, 19788), (404.8663549423218, 19835), (405.87142300605774, 19835), (406.8767249584198, 19892), (407.8830189704895, 19892), (408.88820600509644, 20003), (409.8941149711609, 20052), (410.89938497543335, 20103), (411.9053180217743, 20103), (412.91162109375, 20168), (413.9170570373535, 20332), (414.92281007766724, 20332), (415.9285418987274, 20332), (416.93233704566956, 20480), (417.9371120929718, 20480), (418.9425621032715, 20525), (419.94509100914, 20525), (420.94877910614014, 20682), (421.95349311828613, 20682), (422.95852613449097, 20739), (423.96373105049133, 20834), (424.96925497055054, 20879), (425.97422099113464, 20879), (426.97910809516907, 20927), (427.98423504829407, 20971), (428.98979091644287, 21027), (429.99603605270386, 21027), (431.0013871192932, 21131), (432.0073790550232, 21181), (433.0136981010437, 21231), (434.01869893074036, 21286), (435.02342796325684, 21332), (436.0290410518646, 21427), (437.0337860584259, 21427), (438.0382270812988, 21534), (439.0443150997162, 21580), (440.0485739707947, 21682), (441.05310010910034, 21723), (442.0589439868927, 21723), (443.0637900829315, 21723), (444.069363117218, 21831), (445.0739839076996, 21900), (446.0791001319885, 21982), (447.08454394340515, 21982), (448.09030294418335, 22027), (449.09546995162964, 22121), (450.10147190093994, 22121), (451.10738801956177, 22169), (452.11222290992737, 22268), (453.1173429489136, 22268), (454.1215090751648, 22268), (455.1268689632416, 22371), (456.13275599479675, 22371), (457.1366391181946, 22429), (458.1430220603943, 22476), (459.14805793762207, 22524), (460.15380096435547, 22621), (461.15963912010193, 22621), (462.16505908966064, 22621), (463.16951394081116, 22777), (464.1735260486603, 22777), (465.1796910762787, 22834), (466.18462109565735, 22879), (467.1916069984436, 22926), (468.19692397117615, 22979), (469.20265102386475, 23025), (470.2079019546509, 23112), (471.2143568992615, 23112), (472.21972012519836, 23112), (473.2255320549011, 23260), (474.22933292388916, 23260), (475.23382592201233, 23307), (476.2402009963989, 23400), (477.24437713623047, 23400), (478.24937891960144, 23456), (479.25412607192993, 23508), (480.25925493240356, 23555), (481.26383209228516, 23555), (482.2697560787201, 23672), (483.27248311042786, 23717), (484.2793860435486, 23775), (485.28446197509766, 23872), (486.2910089492798, 23872), (487.29547691345215, 23914), (488.30155205726624, 23979), (489.30790400505066, 24038), (490.3142030239105, 24091), (491.31980204582214, 24141), (492.32480001449585, 24198), (493.330246925354, 24248), (494.3345830440521, 24304), (495.3399829864502, 24404), (496.3456709384918, 24404), (497.3509109020233, 24453), (498.35667991638184, 24506), (499.3623239994049, 24561), (500.36697697639465, 24561), (501.3717019557953, 24684), (502.3764750957489, 24785), (503.38213992118835, 24829), (504.3885109424591, 24829), (505.39434909820557, 24829), (506.40051198005676, 24880), (507.4050540924072, 25022), (508.41137194633484, 25022), (509.4171121120453, 25077), (510.42200207710266, 25126), (511.42663311958313, 25183), (512.4335289001465, 25237), (513.4395899772644, 25388), (514.4444599151611, 25429), (515.4509069919586, 25468), (516.4541339874268, 25468), (517.4602780342102, 25512), (518.4657499790192, 25610), (519.4719960689545, 25610), (520.4742889404297, 25660), (521.4806821346283, 25738), (522.4827599525452, 25789), (523.4891040325165, 25789), (524.4946479797363, 25832), (525.5009999275208, 25952), (526.5077319145203, 25952), (527.5130989551544, 25952), (528.5192711353302, 25994), (529.5236968994141, 26046), (530.5305171012878, 26092), (531.5366280078888, 26092), (532.5431230068207, 26143), (533.5496859550476, 26188), (534.5543811321259, 26284), (535.5582690238953, 26284), (536.5638589859009, 26337), (537.5697319507599, 26375), (538.5740840435028, 26432), (539.5794279575348, 26481), (540.5834031105042, 26531), (541.5884640216827, 26587), (542.5950081348419, 26636), (543.6013829708099, 26689), (544.6029140949249, 26739), (545.6097259521484, 26794), (546.6148431301117, 26884), (547.6201739311218, 26884), (548.6262180805206, 26943), (549.6320219039917, 27047), (550.6366229057312, 27047), (551.6419429779053, 27143), (552.6448900699615, 27143), (553.6503689289093, 27196), (554.6559989452362, 27247), (555.6609580516815, 27292), (556.6672790050507, 27292), (557.6738359928131, 27338), (558.6785230636597, 27390), (559.6834239959717, 27489), (560.6883809566498, 27489), (561.6947479248047, 27533), (562.6998929977417, 27588), (563.7063670158386, 27683), (564.7116620540619, 27683), (565.7172141075134, 27735), (566.7242119312286, 27781), (567.7303590774536, 27861), (568.7336370944977, 27861), (569.739846944809, 27909), (570.7447319030762, 28005), (571.750128030777, 28046), (572.7543370723724, 28046), (573.759546995163, 28096), (574.7647099494934, 28190), (575.7706360816956, 28190), (576.7760810852051, 28246), (577.7811799049377, 28300), (578.7858939170837, 28348), (579.7929780483246, 28406), (580.8002350330353, 28406), (581.8069429397583, 28500), (582.8130619525909, 28500), (583.8182871341705, 28557), (584.8237540721893, 28645), (585.8285949230194, 28645), (586.8336679935455, 28645), (587.8370900154114, 28755), (588.8421049118042, 28804), (589.8449721336365, 28895), (590.8506100177765, 28895), (591.855791091919, 29098), (592.8607919216156, 29151), (593.8668370246887, 29199), (594.8740909099579, 29258), (595.8805611133575, 29311), (596.8849940299988, 29400), (597.8903379440308, 29400), (598.8951070308685, 29459), (599.901046037674, 29515), (600.9031710624695, 29607), (601.9084510803223, 29644), (602.9127690792084, 29644), (603.9177279472351, 29644), (604.9203519821167, 29644), (605.9253749847412, 29701)]

l3 = [(x1,t - s) for (x,s), (x1,t) in zip(l, l[1:])]


mpl.rcParams.update({'font.size': 60})
axes = plt.gca()
axes.set_ylim([-5,210])
axes.set_xlim([0,610])
plt.plot(*zip(*l3))
plt.show()


# ten minute failure experiment sending constant 50 reqs per second
l =[(0.002240896224975586, 0), (1.00746488571167, 0), (2.0117437839508057, 0), (3.016427993774414, 0), (4.0220677852630615, 0), (5.026046991348267, 0), (6.029467821121216, 0), (7.033731937408447, 0), (8.03872799873352, 113), (9.043928861618042, 165), (10.048825979232788, 269), (11.053029775619507, 322), (12.05767297744751, 415), (13.06153392791748, 415), (14.06658387184143, 415), (15.071065902709961, 516), (16.075641870498657, 566), (17.080363988876343, 566), (18.08464789390564, 621), (19.089581966400146, 659), (20.094026803970337, 777), (21.099246978759766, 831), (22.10483479499817, 831), (23.10948085784912, 941), (24.113403797149658, 993), (25.11720085144043, 1086), (26.119255781173706, 1086), (27.12358283996582, 1086), (28.12896180152893, 1193), (29.1335928440094, 1237), (30.1383318901062, 1288), (31.14358687400818, 1288), (32.14795780181885, 1337), (33.15287184715271, 1425), (34.15799880027771, 1468), (35.16272783279419, 1468), (36.16654181480408, 1468), (37.17135286331177, 1509), (38.17628884315491, 1668), (39.17955684661865, 1710), (40.180521965026855, 1710), (41.184969902038574, 1710), (42.18982291221619, 1890), (43.19401478767395, 1890), (44.19978594779968, 1890), (45.2053918838501, 1940), (46.209553956985474, 2052), (47.214656829833984, 2098), (48.21863889694214, 2193), (49.223816871643066, 2193), (50.22901892662048, 2289), (51.2336368560791, 2289), (52.235267877578735, 2338), (53.23913383483887, 2338), (54.24412679672241, 2378), (55.24959397315979, 2438), (56.25399684906006, 2487), (57.25963592529297, 2538), (58.26289677619934, 2590), (59.267874002456665, 2639), (60.27283692359924, 2732), (61.577889919281006, 2732), (62.58293294906616, 2781), (63.58379578590393, 2781), (64.58711385726929, 2888), (65.59201693534851, 2935), (66.59792685508728, 2998), (67.60287880897522, 2998), (68.60797095298767, 3048), (69.61255979537964, 3209), (70.61783981323242, 3251), (71.62233901023865, 3251), (72.62560677528381, 3343), (73.62634778022766, 3343), (74.6298999786377, 3382), (75.63427591323853, 3439), (76.639408826828, 3484), (77.6443088054657, 3534), (78.64924788475037, 3584), (79.65290594100952, 3628), (80.65812397003174, 3681), (81.65883278846741, 3766), (82.66274189949036, 3806), (83.66790580749512, 3848), (84.67269682884216, 3848), (85.67480182647705, 3936), (86.67914581298828, 3936), (87.68301296234131, 3987), (88.68725180625916, 3987), (89.69222593307495, 4096), (90.69733381271362, 4145), (91.70215892791748, 4239), (92.7082929611206, 4286), (93.7131609916687, 4286), (94.7172429561615, 4286), (95.71802878379822, 4392), (96.72251987457275, 4440), (97.72442293167114, 4440), (98.72544598579407, 4493), (99.73052597045898, 4597), (100.73418188095093, 4597), (101.74049186706543, 4703), (102.74456977844238, 4804), (103.74948191642761, 4804), (104.75536394119263, 4852), (105.75841999053955, 4852), (106.76373386383057, 4901), (107.76856684684753, 4901), (108.76999378204346, 5007), (109.7744128704071, 5050), (110.77945685386658, 5102), (111.78227186203003, 5266), (112.78427386283875, 5266), (113.79005885124207, 5373), (114.79509091377258, 5373), (115.80055284500122, 5483), (116.80486989021301, 5534), (117.809485912323, 5534), (118.81402897834778, 5633), (119.81872487068176, 5691), (120.82392477989197, 5782), (122.0831048488617, 5782), (123.08745098114014, 5782), (124.09270787239075, 5782), (125.09670186042786, 5782), (126.10223889350891, 5782), (127.10712790489197, 5782), (128.11283087730408, 5782), (129.11808896064758, 5782), (130.12197494506836, 5782), (131.12523198127747, 5782), (132.12727999687195, 5782), (133.1299958229065, 5782), (134.13321185112, 5782), (135.13495683670044, 5782), (136.1410219669342, 5782), (137.1447789669037, 5782), (138.14905500411987, 5782), (139.15336394309998, 5782), (140.1551640033722, 5782), (141.160964012146, 5782), (142.16608786582947, 5782), (143.1709759235382, 5782), (144.1744499206543, 5782), (145.1800148487091, 5782), (146.184387922287, 5782), (147.19037890434265, 5782), (148.19470191001892, 5782), (149.19779586791992, 5782), (150.203439950943, 5782), (151.48423600196838, 7262), (152.48969292640686, 7262), (153.4949688911438, 7307), (154.4991328716278, 7400), (155.50381684303284, 7400), (156.50844478607178, 7400), (157.513249874115, 7512), (158.51825380325317, 7566), (159.52339577674866, 7667), (160.52962493896484, 7667), (161.5346348285675, 7762), (162.53684496879578, 7762), (163.54244995117188, 7810), (164.5474488735199, 7865), (165.54932188987732, 7915), (166.55509686470032, 7970), (167.5581738948822, 8025), (168.56379985809326, 8122), (169.56916284561157, 8122), (170.57397079467773, 8169), (171.5777289867401, 8213), (172.582359790802, 8276), (173.5867989063263, 8327), (174.59068989753723, 8411), (175.59490394592285, 8411), (176.6003668308258, 8411), (177.60518789291382, 8471), (178.60976099967957, 8617), (179.61473178863525, 8617), (180.61936497688293, 8673), (181.6244728565216, 8732), (182.62852883338928, 8830), (183.63317489624023, 8830), (184.63482880592346, 8880), (185.64115691184998, 8880), (186.6469328403473, 9036), (187.65031695365906, 9079), (188.6552278995514, 9079), (189.66056084632874, 9079), (190.66534399986267, 9190), (191.67034888267517, 9237), (192.67421579360962, 9299), (193.67635583877563, 9399), (194.68084692955017, 9399), (195.6857190132141, 9452), (196.6906418800354, 9550), (197.69500589370728, 9550), (198.6995449066162, 9603), (199.70511198043823, 9649), (200.71061491966248, 9705), (202.0778398513794, 9705), (203.08050298690796, 9705), (204.08450198173523, 9705), (205.09042692184448, 9705), (206.09520483016968, 9705), (207.10136580467224, 9705), (208.10726690292358, 9839), (209.11331582069397, 9923), (210.11837196350098, 10148), (211.1235649585724, 10148), (212.12852692604065, 10203), (213.13135886192322, 10259), (214.13477087020874, 10358), (215.14056086540222, 10358), (216.14531183242798, 10403), (217.15024089813232, 10457), (218.15397381782532, 10560), (219.15792798995972, 10560), (220.16313099861145, 10609), (221.1671187877655, 10663), (222.16798090934753, 10708), (223.17386388778687, 10765), (224.1786699295044, 10864), (225.18368482589722, 10864), (226.18510484695435, 10959), (227.1901149749756, 10959), (228.1953477859497, 10959), (229.20071291923523, 11123), (230.2062759399414, 11168), (231.21068286895752, 11274), (232.21649599075317, 11274), (233.21763682365417, 11327), (234.2206540107727, 11425), (235.2245578765869, 11470), (236.2298378944397, 11470), (237.23343300819397, 11521), (238.2393708229065, 11567), (239.2435019016266, 11615), (240.24671578407288, 11668), (241.25225281715393, 11668), (242.25722789764404, 11780), (243.26163578033447, 11836), (244.26647400856018, 11897), (245.2707188129425, 11960), (246.27500891685486, 12013), (247.28032279014587, 12102), (248.28490591049194, 12102), (249.29010581970215, 12156), (250.2953519821167, 12156), (251.30047798156738, 12270), (252.30435800552368, 12320), (253.31043481826782, 12320), (254.3160059452057, 12373), (255.32155179977417, 12424), (256.32726979255676, 12424), (257.3320519924164, 12589), (258.33773589134216, 12589), (259.34347581863403, 12646), (260.34782695770264, 12702), (261.35098791122437, 12757), (262.3564579486847, 12805), (263.36233401298523, 12904), (264.3667438030243, 12904), (265.37299394607544, 12950), (266.37633991241455, 12995), (267.38135385513306, 13046), (268.3863408565521, 13103), (269.39151191711426, 13156), (270.39556193351746, 13257), (271.4021248817444, 13257), (272.4075438976288, 13257), (273.4130289554596, 13372), (274.4192979335785, 13463), (275.4234519004822, 13505), (276.426784992218, 13505), (277.43179392814636, 13551), (278.433308839798, 13551), (279.4375457763672, 13632), (280.44136691093445, 13680), (281.4465289115906, 13680), (282.4510397911072, 13680), (283.4566400051117, 13798), (284.4625129699707, 13897), (285.4670069217682, 13897), (286.4718677997589, 13944), (287.47478580474854, 13994), (288.4761049747467, 14089), (289.4772238731384, 14089), (290.48175287246704, 14137), (291.48810291290283, 14194), (292.49328899383545, 14251), (293.4974009990692, 14303), (294.50352692604065, 14356), (295.5135598182678, 14409), (296.52216482162476, 14507), (297.5255968570709, 14507), (298.53334879875183, 14600), (299.54210782051086, 14600), (300.5515069961548, 14650), (301.5606257915497, 14735), (302.5724937915802, 14735), (303.5760259628296, 14792), (304.5837218761444, 14792), (305.59216499328613, 14844), (306.60093784332275, 14948), (307.6121299266815, 14948), (308.61665201187134, 15149), (309.6241009235382, 15217), (310.6299967765808, 15270), (311.63867688179016, 15333), (312.64686489105225, 15439), (313.6561539173126, 15439), (314.66593384742737, 15498), (315.67428278923035, 15560), (316.68257689476013, 15710), (317.69287395477295, 15802), (318.69678497314453, 15802), (319.706093788147, 15852), (320.7157518863678, 15945), (321.72591495513916, 15988), (322.73607182502747, 15988), (323.74620294570923, 16038), (324.75623989105225, 16093), (325.7659389972687, 16151), (326.77563190460205, 16256), (327.78593277931213, 16256), (328.79614996910095, 16256), (329.80634689331055, 16347), (330.8159418106079, 16389), (331.82450699806213, 16389), (332.8334197998047, 16436), (333.84491896629333, 16436), (334.8561029434204, 16599), (335.8659529685974, 16599), (336.87429189682007, 16658), (337.8814859390259, 16750), (338.88916993141174, 16750), (339.89610481262207, 16800), (340.906466960907, 16894), (341.9160158634186, 16931), (342.9258887767792, 16969), (343.9352488517761, 16969), (344.94612979888916, 16969), (345.9563488960266, 17077), (346.9664568901062, 17133), (347.9762969017029, 17183), (348.98500299453735, 17286), (349.99618577957153, 17286), (351.0064649581909, 17334), (352.01652789115906, 17427), (353.02609181404114, 17427), (354.0359859466553, 17427), (355.04628896713257, 17466), (356.05669689178467, 17621), (357.0664849281311, 17621), (358.07589292526245, 17708), (359.08618092536926, 17708), (360.0962038040161, 17766), (361.10655188560486, 17821), (362.1160488128662, 17872), (363.1248269081116, 17924), (364.1335868835449, 17969), (365.145320892334, 18033), (366.1563220024109, 18136), (367.1664228439331, 18136), (368.17620182037354, 18192), (369.18614983558655, 18277), (370.19638085365295, 18277), (371.20647287368774, 18328), (372.2160608768463, 18375), (373.2255799770355, 18474), (374.2363188266754, 18521), (375.246209859848, 18521), (376.256472826004, 18617), (377.2660708427429, 18655), (378.27635884284973, 18655), (379.28655886650085, 18697), (380.2961518764496, 18740), (381.306471824646, 18740), (382.3167908191681, 18791), (383.326593875885, 18931), (384.33592081069946, 19028), (385.3461649417877, 19028), (386.3567168712616, 19028), (387.36602687835693, 19144), (388.3760848045349, 19196), (389.3847408294678, 19248), (390.3930368423462, 19301), (391.4011228084564, 19394), (392.4092969894409, 19436), (393.4177429676056, 19477), (394.42753291130066, 19477), (395.4366397857666, 19529), (396.44645595550537, 19574), (397.45656085014343, 19661), (398.466255903244, 19661), (399.47460889816284, 19712), (400.47986698150635, 19757), (401.4903359413147, 19805), (402.49631690979004, 19860), (403.5071988105774, 19860), (404.5170359611511, 19921), (405.5263149738312, 20020), (406.53655982017517, 20020), (407.5462999343872, 20020), (408.5567719936371, 20172), (409.56649589538574, 20172), (410.5764048099518, 20229), (411.58648681640625, 20229), (412.59658098220825, 20390), (413.6050748825073, 20390), (414.61517786979675, 20443), (415.622318983078, 20536), (416.629026889801, 20581), (417.6368968486786, 20581), (418.64679884910583, 20631), (419.65660786628723, 20716), (420.66544699668884, 20762), (422.2253909111023, 20978), (423.23662090301514, 20978), (424.24656796455383, 20978), (425.25517177581787, 20978), (426.26519989967346, 20978), (427.27546977996826, 20978), (428.2842719554901, 20978), (429.29199481010437, 20978), (430.30010890960693, 20978), (431.31015396118164, 20978), (432.31653785705566, 20978), (433.32524490356445, 20978), (434.3347909450531, 20978), (435.34272599220276, 20978), (436.3524258136749, 20978), (437.35526990890503, 20978), (438.366091966629, 20978), (439.3753499984741, 20978), (440.3850679397583, 20978), (441.3954339027405, 20978), (442.405464887619, 20978), (443.4154989719391, 20978), (444.4259657859802, 20978), (445.4363088607788, 20978), (446.4467399120331, 20978), (447.45530581474304, 20978), (448.4654519557953, 20978), (449.4758868217468, 20978), (450.4854609966278, 20978), (451.7363669872284, 20978), (452.7467827796936, 20978), (453.75748896598816, 20978), (454.7621719837189, 20978), (455.76678800582886, 20978), (456.7714297771454, 21017), (457.7769157886505, 21051), (458.78102684020996, 21051), (459.7854709625244, 21102), (460.7919919490814, 21148), (461.79675579071045, 21197), (462.80249094963074, 21197), (463.80574584007263, 21252), (464.809268951416, 21356), (465.8153247833252, 21402), (466.8207018375397, 21456), (467.8258538246155, 21507), (468.8319969177246, 21507), (469.83777594566345, 21507), (470.8401138782501, 21713), (471.8454358577728, 21713), (472.8478548526764, 21754), (473.85374188423157, 21817), (474.85743594169617, 21817), (475.8632068634033, 21913), (476.86790800094604, 22009), (477.8745160102844, 22050), (478.88025283813477, 22050), (479.88627195358276, 22098), (480.8924369812012, 22147), (481.8970859050751, 22147), (482.902480840683, 22147), (483.9081618785858, 22294), (484.9149308204651, 22294), (485.92126083374023, 22342), (486.9276418685913, 22393), (487.9333519935608, 22393), (488.93779492378235, 22505), (489.9409909248352, 22558), (490.9471218585968, 22662), (491.9525067806244, 22662), (492.95882987976074, 22763), (493.9647707939148, 22820), (494.96828985214233, 22820), (495.9722988605499, 22964), (496.9766228199005, 23009), (497.98153281211853, 23009), (498.98690485954285, 23049), (499.993017911911, 23049), (500.9972279071808, 23116), (502.0027828216553, 23263), (503.0089747905731, 23263), (504.0153098106384, 23263), (505.02043890953064, 23362), (506.02674889564514, 23362), (507.0313489437103, 23469), (508.0369098186493, 23508), (509.0417528152466, 23551), (510.04697585105896, 23551), (511.0510230064392, 23594), (512.0563259124756, 23646), (513.0625, 23690), (514.068520784378, 23741), (515.0700709819794, 23741), (516.0750548839569, 23883), (517.0782899856567, 23883), (518.083902835846, 23930), (519.0891299247742, 23976), (520.0941779613495, 24025), (521.1001808643341, 24071), (522.1067488193512, 24071), (523.1139760017395, 24128), (524.1207368373871, 24185), (525.1261279582977, 24238), (526.1277539730072, 24238), (527.1326079368591, 24486), (528.1350719928741, 24486), (529.1420719623566, 24525), (530.1471288204193, 24568), (531.1537959575653, 24568), (532.1590747833252, 24568), (533.1656439304352, 24568), (534.1718699932098, 24675), (535.1755218505859, 24721), (536.1818928718567, 24807), (537.1874499320984, 24807), (538.1929187774658, 24853), (539.1973009109497, 24898), (540.2032539844513, 24939), (541.209547996521, 25028), (542.2151789665222, 25028), (543.2219948768616, 25079), (544.2259559631348, 25128), (545.2321789264679, 25128), (546.2361259460449, 25182), (547.2418968677521, 25228), (548.2480268478394, 25382), (549.2533528804779, 25382), (550.2590928077698, 25430), (551.2651879787445, 25479), (552.2701117992401, 25523), (553.2762439250946, 25523), (554.2828328609467, 25626), (555.288037776947, 25675), (556.2941379547119, 25729), (557.300607919693, 25729), (558.3063189983368, 25780), (559.311402797699, 25826), (560.3172249794006, 25874), (561.3225948810577, 26009), (562.3253679275513, 26059), (563.3288559913635, 26173), (564.3332288265228, 26222), (565.3387048244476, 26312), (566.344869852066, 26312), (567.3504939079285, 26371), (568.3570148944855, 26420), (569.3632719516754, 26420), (570.36998295784, 26514), (571.3755729198456, 26514), (572.381021976471, 26625), (573.3865268230438, 26625), (574.3924908638, 26685), (575.397656917572, 26797), (576.4030468463898, 26843), (577.4071660041809, 26898), (578.4129219055176, 26947), (579.4180819988251, 26947), (580.4239389896393, 27001), (581.4287669658661, 27102), (582.4341099262238, 27102), (583.4363679885864, 27198), (584.4436237812042, 27198), (585.4491879940033, 27246), (586.4554378986359, 27246), (587.4615759849548, 27303), (588.4672780036926, 27361), (589.4737207889557, 27469), (590.4767558574677, 27524), (591.4840598106384, 27577), (592.4891719818115, 27577), (593.4953818321228, 27632), (594.4977259635925, 27676), (595.5031068325043, 27796), (596.5099740028381, 27796), (597.5161418914795, 27904), (598.523512840271, 27952), (599.5289778709412, 27996), (600.5345129966736, 28053), (601.5362279415131, 28053), (602.5380549430847, 28107), (603.5429627895355, 28160), (604.5474128723145, 28199), (605.5502738952637, 28253), (606.553190946579, 28324), (607.5567429065704, 28324), (608.5609519481659, 28324), (609.5661988258362, 28324)]

import matplotlib.pyplot as plt
import matplotlib as mpl

l3 = [(x1,t - s) for (x,s), (x1,t) in zip(l, l[1:])]
mpl.rcParams.update({'font.size': 60})

plt.title('completed requests')
axes = plt.gca()
axes.set_ylim([-5,210])
axes.set_xlim([0,610])

dead = [60, 120, 420]
for p in dead:
    plt.axvline(x=p, color = 'red')

revive = [150, 200, 450]
for p in revive:
    plt.axvline(x=p, color = 'green')

plt.plot(*zip(*l3))
plt.show()


''' ******************************************************************
                        Failure test used above
    ******************************************************************
        if failure_testing:
            if START_TIME + 60 < time() < START_TIME + 61:
                # kill server 1
                s = '1'
                user = SERVERS[s]['user']
                addr = SERVERS[s]['address']
                pw = SERVERS[s]['password']
                end_a_server(user, addr, pw, s)
                print("vFiber shutdown on server '%s' connected at %s" % (s, addr))
            if START_TIME + 120 < time() < START_TIME + 121:
                # kill server 2
                s = '2'
                user = SERVERS[s]['user']
                addr = SERVERS[s]['address']
                pw = SERVERS[s]['password']
                end_a_server(user, addr, pw, s)
                print("vFiber shutdown on server '%s' connected at %s" % (s, addr))
            if START_TIME + 150 < time() < START_TIME + 151:
                # bring back server 1
                s = '1'
                user = SERVERS[s]['user']
                addr = SERVERS[s]['address']
                pw = SERVERS[s]['password']
                server_procs.append(do_ssh(user, addr, pw, s))
                print("vFiber online for server '%s' at %s" % (s, addr))
            if START_TIME + 200 < time() < START_TIME + 201:
                # bring back server 2
                s = '1'
                user = SERVERS[s]['user']
                addr = SERVERS[s]['address']
                pw = SERVERS[s]['password']
                server_procs.append(do_ssh(user, addr, pw, s))
                print("vFiber online for server '%s' at %s" % (s, addr))
            if START_TIME + 420 < time() < START_TIME + 421:
                # kill servers 2 and 3
                s2 = '2'
                s3 = '3'
                user = SERVERS[s2]['user']
                addr = SERVERS[s2]['address']
                pw = SERVERS[s2]['password']
                end_a_server(user, addr, pw, s2)
                print("vFiber shutdown on server '%s' connected at %s" % (s2, addr))
                user = SERVERS[s3]['user']
                addr = SERVERS[s3]['address']
                pw = SERVERS[s3]['password']
                end_a_server(user, addr, pw, s3)
                print("vFiber shutdown on server '%s' connected at %s" % (s3, addr))
            if START_TIME + 450 < time() < START_TIME + 451:
                # bring back server 2
                s = '2'
                user = SERVERS[s]['user']
                addr = SERVERS[s]['address']
                pw = SERVERS[s]['password']
                server_procs.append(do_ssh(user, addr, pw, s))
                print("vFiber online for server '%s' at %s" % (s, addr))
'''


# poisson 100, periodic failure and recovery of random random server
# python experiment.py -l=600 -p=True -v=100 -t=True

l = [(0.0023660659790039062, 0), (1.005803108215332, 106), (2.010650157928467, 223), (3.017806053161621, 330), (4.021551132202148, 429), (5.0271971225738525, 538), (6.032110214233398, 636), (7.036454200744629, 738), (8.041513204574585, 847), (9.046458005905151, 939), (10.05160403251648, 1026), (11.055816173553467, 1120), (12.060922145843506, 1225), (13.06617021560669, 1318), (14.07094120979309, 1414), (15.0765700340271, 1528), (16.08145809173584, 1621), (17.08573603630066, 1726), (18.090999126434326, 1827), (19.095826148986816, 1926), (20.10060405731201, 2032), (21.105494022369385, 2130), (22.10870599746704, 2218), (23.110820055007935, 2321), (24.115490198135376, 2402), (25.12077808380127, 2402), (26.124033212661743, 2493), (27.129510164260864, 2595), (28.134340047836304, 2686), (29.13595700263977, 2773), (30.140931129455566, 2981), (31.145103216171265, 3091), (32.148542165756226, 3177), (33.15220403671265, 3277), (34.15809416770935, 3374), (35.16359901428223, 3473), (36.16863799095154, 3561), (37.17344903945923, 3662), (38.17497515678406, 3772), (39.18057107925415, 3878), (40.18587017059326, 3980), (41.1906201839447, 4095), (42.19601011276245, 4180), (43.20165801048279, 4267), (44.20393419265747, 4358), (45.20950198173523, 4451), (46.21331000328064, 4547), (47.21793508529663, 4652), (48.22195100784302, 4762), (49.22689414024353, 4875), (50.23201513290405, 4875), (51.236746072769165, 4968), (52.2413010597229, 5175), (53.2458701133728, 5268), (54.246644020080566, 5372), (55.25185799598694, 5472), (56.257014989852905, 5570), (57.26018500328064, 5672), (58.263967990875244, 5768), (59.26926517486572, 5858), (60.27176904678345, 5946), (61.63140320777893, 6048), (62.63381910324097, 6142), (63.63812518119812, 6238), (64.6437361240387, 6349), (65.64693403244019, 6463), (66.65127205848694, 6567), (67.65557217597961, 6663), (68.65933108329773, 6773), (69.66171503067017, 6873), (70.66662001609802, 6966), (71.67127799987793, 7054), (72.67634415626526, 7153), (73.68160200119019, 7251), (74.68506503105164, 7349), (75.68855500221252, 7349), (76.69205403327942, 7551), (77.6959080696106, 7649), (78.70068717002869, 7764), (79.70634698867798, 7841), (80.71224308013916, 7938), (81.71674799919128, 8028), (82.72138810157776, 8133), (83.7266891002655, 8224), (84.73134517669678, 8334), (85.73708415031433, 8441), (86.74281406402588, 8541), (87.74652099609375, 8648), (88.75147414207458, 8735), (89.75652408599854, 8816), (90.76133418083191, 8923), (91.76443815231323, 9017), (92.76593017578125, 9125), (93.77150201797485, 9213), (94.7727620601654, 9307), (95.77672410011292, 9413), (96.78192615509033, 9513), (97.7828061580658, 9624), (98.78871297836304, 9723), (99.79126501083374, 9829), (100.79698705673218, 9829), (101.8020989894867, 9906), (102.8067901134491, 10021), (103.81176519393921, 10116), (104.81590509414673, 10206), (105.81654405593872, 10310), (106.81900715827942, 10403), (107.82419013977051, 10498), (108.8285140991211, 10591), (109.83155918121338, 10695), (110.83257699012756, 10807), (111.83347606658936, 10900), (112.83673310279846, 10980), (113.84119319915771, 11092), (114.84719514846802, 11193), (115.85233211517334, 11321), (116.85778903961182, 11430), (117.86221218109131, 11545), (118.8685131072998, 11643), (119.87180018424988, 11742), (120.87776207923889, 11847), (122.16320705413818, 11940), (123.16714000701904, 12035), (124.17196607589722, 12138), (125.17435717582703, 12233), (126.17650699615479, 12233), (127.18160605430603, 12335), (128.18716311454773, 12438), (129.19237303733826, 12557), (130.19744300842285, 12656), (131.20265316963196, 12858), (132.20729613304138, 12947), (133.21221017837524, 13048), (134.2166440486908, 13134), (135.22244906425476, 13245), (136.2255711555481, 13333), (137.22986316680908, 13435), (138.23433017730713, 13547), (139.2401201725006, 13646), (140.24519300460815, 13749), (141.25000309944153, 13844), (142.25514221191406, 13941), (143.25824809074402, 14040), (144.2629680633545, 14124), (145.26543402671814, 14234), (146.2673261165619, 14316), (147.27210116386414, 14400), (148.2751979827881, 14505), (149.2768051624298, 14597), (150.28248810768127, 14725), (151.2876420021057, 14725), (152.29156517982483, 14819), (153.2974090576172, 15013), (154.3018560409546, 15100), (155.30601119995117, 15201), (156.31159615516663, 15296), (157.31587505340576, 15406), (158.31996607780457, 15520), (159.32224416732788, 15620), (160.32657408714294, 15699), (161.33201909065247, 15887), (162.3372781276703, 15989), (163.34215211868286, 16080), (164.34750509262085, 16188), (165.35253715515137, 16292), (166.3547670841217, 16401), (167.35729002952576, 16514), (168.3623402118683, 16604), (169.36636018753052, 16711), (170.37100100517273, 16816), (171.37342715263367, 16910), (172.37766313552856, 17007), (173.38338899612427, 17110), (174.38865208625793, 17193), (175.3934280872345, 17301), (176.3974630832672, 17301), (177.40263104438782, 17509), (178.40399718284607, 17592), (179.40755701065063, 17683), (180.41234707832336, 17790), (181.69982504844666, 17893), (182.70310616493225, 17980), (183.7072901725769, 18089), (184.71173119544983, 18193), (185.7169280052185, 18276), (186.72231912612915, 18380), (187.72722721099854, 18459), (188.73230504989624, 18565), (189.73320817947388, 18652), (190.73797416687012, 18734), (191.74224209785461, 18836), (192.74763798713684, 18920), (193.75236201286316, 19036), (194.7572250366211, 19134), (195.76222705841064, 19231), (196.7675380706787, 19335), (197.77330017089844, 19446), (198.7777020931244, 19542), (199.7818992137909, 19633), (200.78742504119873, 19729), (201.7921061515808, 19729), (202.79661202430725, 19812), (203.8017430305481, 19902), (204.80730319023132, 19995), (205.81251406669617, 20087), (206.81438207626343, 20171), (207.8174250125885, 20268), (208.82319712638855, 20373), (209.8277440071106, 20457), (210.83214020729065, 20573), (211.83808207511902, 20677), (212.84265112876892, 20787), (213.84411907196045, 20892), (214.84663915634155, 21002), (215.84794998168945, 21093), (216.85271215438843, 21178), (217.85913920402527, 21295), (218.86235904693604, 21395), (219.86827111244202, 21494), (220.87416911125183, 21594), (221.8790500164032, 21688), (222.8845181465149, 21795), (223.8894920349121, 21898), (224.89219999313354, 21989), (225.89613008499146, 22079), (226.89762902259827, 22079), (227.90257120132446, 22171), (228.9075779914856, 22262), (229.91285920143127, 22373), (230.91828799247742, 22554), (231.92274618148804, 22644), (232.92759013175964, 22738), (233.9328191280365, 22838), (234.93812108039856, 22947), (235.94251704216003, 23041), (236.94432401657104, 23145), (237.9508740901947, 23246), (238.95214819908142, 23350), (239.95381903648376, 23453), (240.9593141078949, 23568), (242.23742604255676, 23679), (243.24216508865356, 23776), (244.2475380897522, 23868), (245.25226521492004, 23959), (246.2572991847992, 24070), (247.26214909553528, 24175), (248.26781821250916, 24279), (249.2733449935913, 24375), (250.27856612205505, 24460), (251.2823781967163, 24555), (252.2884030342102, 24555), (253.29404020309448, 24869), (254.2974820137024, 24973), (255.30258011817932, 25074), (256.3082721233368, 25180), (257.31317114830017, 25274), (258.31857109069824, 25386), (259.3238151073456, 25479), (260.3284001350403, 25565), (261.33383798599243, 25668), (262.33784317970276, 25763), (263.34261298179626, 25849), (264.3483262062073, 25943), (265.353972196579, 26047), (266.35950899124146, 26161), (267.36366415023804, 26261), (268.3686661720276, 26359), (269.37380814552307, 26454), (270.37789821624756, 26554), (271.38268208503723, 26631), (272.3883390426636, 26738), (273.39358711242676, 26838), (274.3993170261383, 26922), (275.4039890766144, 27023), (276.4072790145874, 27117), (277.41177916526794, 27117), (278.4138910770416, 27225), (279.41922521591187, 27329), (280.425194978714, 27428), (281.4305040836334, 27519), (282.43642711639404, 27618), (283.440416097641, 27702), (284.4448721408844, 27797), (285.4506480693817, 27906), (286.4536221027374, 28001), (287.46020102500916, 28091), (288.4651701450348, 28194), (289.46814608573914, 28285), (290.4726631641388, 28390), (291.47781801223755, 28483), (292.48244309425354, 28583), (293.48726320266724, 28684), (294.49234199523926, 28777), (295.49784803390503, 28876), (296.50318908691406, 28973), (297.50766801834106, 29079), (298.5128421783447, 29175), (299.51743602752686, 29276), (300.5231041908264, 29387), (301.83282709121704, 29498), (302.83711218833923, 29498), (303.84270215034485, 29593), (304.8491280078888, 29697), (305.8514540195465, 29800), (306.8535490036011, 29915), (307.858647108078, 30124), (308.8637092113495, 30218), (309.86778020858765, 30307), (310.8771331310272, 30413), (311.88722920417786, 30534), (312.8974680900574, 30606), (313.90597319602966, 30700), (314.9142270088196, 30776), (315.9229462146759, 30881), (316.92597818374634, 30997), (317.9355671405792, 31108), (318.9434971809387, 31202), (319.9532392024994, 31294), (320.9627230167389, 31386), (321.96916699409485, 31478), (322.973562002182, 31573), (323.9789731502533, 31664), (324.98847699165344, 31768), (325.99412512779236, 31864), (327.0043179988861, 31967), (328.0121359825134, 31967), (329.0218710899353, 32073), (330.03162717819214, 32285), (331.0386691093445, 32393), (332.0489311218262, 32508), (333.05372500419617, 32607), (334.0640640258789, 32700), (335.0692892074585, 32799), (336.07597303390503, 32899), (337.0860390663147, 32989), (338.09407114982605, 33089), (339.10428404808044, 33190), (340.11381316185, 33284), (341.1241331100464, 33376), (342.13346815109253, 33476), (343.14188408851624, 33596), (344.14869117736816, 33699), (345.1524062156677, 33804), (346.1625289916992, 34012), (347.1713831424713, 34112), (348.18234300613403, 34192), (349.1893939971924, 34286), (350.19961619377136, 34367), (351.2088050842285, 34468), (352.21975898742676, 34601), (353.22337317466736, 34601), (354.234188079834, 34815), (355.2434980869293, 34915), (356.25247502326965, 35024), (357.257817029953, 35123), (358.2690451145172, 35230), (359.2804081439972, 35347), (360.288330078125, 35443), (361.56319308280945, 35546), (362.57404017448425, 35654), (363.5843291282654, 35767), (364.5938091278076, 35860), (365.6041970252991, 35948), (366.61187505722046, 36067), (367.62191820144653, 36169), (368.6325521469116, 36262), (369.6430170536041, 36390), (370.65091609954834, 36509), (371.6597201824188, 36609), (372.66953015327454, 36701), (373.6793119907379, 36796), (374.6898100376129, 36906), (375.70059609413147, 37016), (376.7094831466675, 37122), (377.71555399894714, 37209), (378.7233760356903, 37209), (379.7320840358734, 37331), (380.7431950569153, 37447), (381.7488100528717, 37565), (382.7563741207123, 37677), (383.76666498184204, 37780), (384.7771761417389, 37869), (385.7837071418762, 37965), (386.794997215271, 38055), (387.8037760257721, 38156), (388.8139171600342, 38259), (389.82379698753357, 38339), (390.8335840702057, 38434), (391.8440840244293, 38549), (392.85366010665894, 38647), (393.8647780418396, 38741), (394.87379598617554, 38843), (395.8783390522003, 38936), (396.88377118110657, 39048), (397.8942930698395, 39133), (398.9044120311737, 39228), (399.9141631126404, 39335), (400.92208099365234, 39432), (401.9322361946106, 39549), (402.94185614585876, 39638), (403.9520981311798, 39638), (404.9571120738983, 39724), (405.9674160480499, 39832), (406.9747920036316, 39927), (407.98344016075134, 40025), (408.9903521537781, 40215), (409.9945750236511, 40322), (411.00449419021606, 40443), (412.0127019882202, 40544), (413.0217230319977, 40642), (414.032653093338, 40745), (415.0424020290375, 40834), (416.0462281703949, 40938), (417.05316710472107, 41040), (418.06440019607544, 41131), (419.0736701488495, 41223), (420.0837821960449, 41321), (421.36622619628906, 41521), (422.3726770877838, 41639), (423.3829491138458, 41762), (424.3849000930786, 41877), (425.39636611938477, 41972), (426.4024682044983, 42067), (427.41037917137146, 42174), (428.420294046402, 42284), (429.42431807518005, 42376), (430.4294421672821, 42483), (431.4334831237793, 42577), (432.44167709350586, 42681), (433.45123410224915, 42777), (434.4627571105957, 42870), (435.4683620929718, 42985), (436.47788310050964, 43098), (437.4844591617584, 43172), (438.4941020011902, 43258), (439.495717048645, 43361), (440.5045771598816, 43463), (441.51532220840454, 43572), (442.5240650177002, 43680), (443.53434920310974, 43757), (444.54282116889954, 43855), (445.5532250404358, 43954), (446.5582640171051, 43954), (447.56400203704834, 44040), (448.5748682022095, 44139), (449.5850930213928, 44246), (450.5945851802826, 44430), (451.60514402389526, 44551), (452.61448407173157, 44648), (453.6233410835266, 44745), (454.6331880092621, 44832), (455.6398410797119, 44929), (456.6470170021057, 45036), (457.65766620635986, 45129), (458.66632604599, 45220), (459.6752860546112, 45328), (460.6828980445862, 45437), (461.6904079914093, 45523), (462.6982831954956, 45633), (463.7049241065979, 45718), (464.7143189907074, 45809), (465.7203290462494, 45911), (466.7264120578766, 46024), (467.7355890274048, 46110), (468.74439001083374, 46226), (469.75481820106506, 46335), (470.7641041278839, 46449), (471.77389311790466, 46449), (472.77751302719116, 46546), (473.7848861217499, 46741), (474.7945990562439, 46839), (475.8049941062927, 46947), (476.8103220462799, 47053), (477.8209910392761, 47161), (478.832288980484, 47257), (479.8409252166748, 47366), (480.85251116752625, 47476), (482.12409114837646, 47562), (483.1322281360626, 47657), (484.1347801685333, 47754), (485.1435990333557, 47864), (486.15176701545715, 47968), (487.1609630584717, 48079), (488.17013812065125, 48160), (489.18075919151306, 48264), (490.18515706062317, 48370), (491.1952521800995, 48461), (492.2045102119446, 48562), (493.2157950401306, 48639), (494.224561214447, 48733), (495.23397517204285, 48836), (496.24381613731384, 48942), (497.25440216064453, 49022), (498.2651472091675, 49120), (499.2706160545349, 49216), (500.2805390357971, 49311), (501.29103207588196, 49407), (502.29661321640015, 49513), (503.3055100440979, 49625), (504.3154311180115, 49711), (505.32596802711487, 49805), (506.3360550403595, 49927), (507.3468201160431, 49927), (508.35204911231995, 50035), (509.35673213005066, 50143), (510.36272501945496, 50229), (511.36862111091614, 50327), (512.3740870952606, 50544), (513.3799500465393, 50655), (514.3844041824341, 50753), (515.3892941474915, 50856), (516.3945372104645, 50941), (517.3996951580048, 51037), (518.4048562049866, 51143), (519.4101140499115, 51236), (520.4146201610565, 51352), (521.4202120304108, 51456), (522.4267711639404, 51553), (523.4324510097504, 51649), (524.4371130466461, 51755), (525.4425020217896, 51845), (526.4477360248566, 51956), (527.4531371593475, 52064), (528.4556081295013, 52171), (529.4618752002716, 52268), (530.4672331809998, 52358), (531.4713191986084, 52468), (532.477016210556, 52468), (533.4832530021667, 52559), (534.4859111309052, 52773), (535.4925282001495, 52871), (536.4974591732025, 52968), (537.5016100406647, 53066), (538.5069041252136, 53171), (539.5109231472015, 53281), (540.517480134964, 53393), (541.7749621868134, 53510), (542.7803030014038, 53602), (543.7868800163269, 53693), (544.792738199234, 53792), (545.7991540431976, 53905), (546.8043780326843, 54026), (547.8098800182343, 54147), (548.8159620761871, 54237), (549.8218531608582, 54325), (550.8250551223755, 54427), (551.8314821720123, 54527), (552.8368210792542, 54633), (553.8390610218048, 54744), (554.8453299999237, 54847), (555.8494760990143, 54940), (556.8556201457977, 54940), (557.8594970703125, 55125), (558.8660640716553, 55216), (559.8716599941254, 55319), (560.8761990070343, 55416), (561.8795499801636, 55504), (562.8836970329285, 55598), (563.886283159256, 55685), (564.8936891555786, 55787), (565.8965890407562, 55891), (566.8993880748749, 55984), (567.9047231674194, 56092), (568.906594991684, 56200), (569.9113721847534, 56304), (570.9170801639557, 56398), (571.9206171035767, 56497), (572.9253480434418, 56582), (573.9322550296783, 56687), (574.9382281303406, 56800), (575.9442520141602, 56894), (576.9489920139313, 57013), (577.9550461769104, 57117), (578.9598300457001, 57218), (579.9664900302887, 57315), (580.9716031551361, 57405), (581.9765660762787, 57405), (582.9827971458435, 57516), (583.9866681098938, 57610), (584.9924461841583, 57721), (585.9979591369629, 57823), (587.0010180473328, 57920), (588.007600069046, 58018), (589.0113492012024, 58113), (590.0155191421509, 58209), (591.0200531482697, 58330), (592.0246942043304, 58434), (593.0306391716003, 58543), (594.036731004715, 58646), (595.0427510738373, 58739), (596.048816204071, 58821), (597.0551800727844, 58912), (598.0598251819611, 59006), (599.0653891563416, 59089), (600.0720930099487, 59181), (601.0769200325012, 59181), (602.0819141864777, 59181), (603.0845680236816, 59181), (604.0887620449066, 59181), (605.0942671298981, 59181), (606.0987269878387, 59181), (607.1046900749207, 59181), (608.1095731258392, 59181), (609.1145551204681, 59181)]

import matplotlib.pyplot as plt
import matplotlib as mpl

l3 = [(x1,t - s) for (x,s), (x1,t) in zip(l, l[1:])]
mpl.rcParams.update({'font.size': 60})

axes = plt.gca()
axes.set_ylim([-5,210])
axes.set_xlim([0,610])

dead = [60, 180, 300, 420, 540]
for p in dead:
    plt.axvline(x=p, color = 'red')

revive = [120, 240, 360, 480]
for p in revive:
    plt.axvline(x=p, color = 'green')

plt.plot(*zip(*l3))
plt.show()




# python experiment.py -l=600 -p=True -v=100 -t=False
# 10 minutes, poisson 100 rps, no failures
l = [(0.002237081527709961, 0), (1.0062448978424072, 108), (2.011810064315796, 210), (3.0156021118164062, 316), (4.020430088043213, 407), (5.024807929992676, 511), (6.028815031051636, 605), (7.032727003097534, 701), (8.035254001617432, 808), (9.039545059204102, 916), (10.044203042984009, 1029), (11.049072980880737, 1132), (12.054373979568481, 1235), (13.058470964431763, 1338), (14.064169883728027, 1447), (15.068835020065308, 1542), (16.074064016342163, 1642), (17.078327894210815, 1755), (18.08329200744629, 1845), (19.086607933044434, 1958), (20.08901810646057, 2054), (21.093019008636475, 2151), (22.095771074295044, 2266), (23.10070490837097, 2355), (24.104427099227905, 2457), (25.10645604133606, 2457), (26.11057710647583, 2585), (27.115187883377075, 2674), (28.119177103042603, 2786), (29.12479591369629, 2892), (30.12899899482727, 3067), (31.133960962295532, 3178), (32.13813400268555, 3281), (33.14353799819946, 3372), (34.14762902259827, 3480), (35.15251898765564, 3586), (36.15658092498779, 3673), (37.1609001159668, 3790), (38.16574001312256, 3880), (39.16629505157471, 3987), (40.17124605178833, 4089), (41.1755850315094, 4181), (42.181365966796875, 4285), (43.18572497367859, 4377), (44.18959999084473, 4472), (45.19377899169922, 4575), (46.19784092903137, 4674), (47.20219802856445, 4781), (48.20577311515808, 4863), (49.20884895324707, 4957), (50.21013808250427, 4957), (51.21287703514099, 5051), (52.21550488471985, 5248), (53.21820902824402, 5366), (54.223109006881714, 5460), (55.22905206680298, 5547), (56.23395895957947, 5652), (57.23957800865173, 5782), (58.24494409561157, 5889), (59.24924302101135, 5983), (60.253994941711426, 6092), (61.61111903190613, 6200), (62.61440110206604, 6302), (63.61849498748779, 6398), (64.6239960193634, 6503), (65.62860798835754, 6590), (66.63390398025513, 6693), (67.63797497749329, 6795), (68.6427218914032, 6901), (69.64646506309509, 6996), (70.65146708488464, 7089), (71.65755200386047, 7175), (72.66259503364563, 7268), (73.66666293144226, 7363), (74.66857695579529, 7455), (75.67193698883057, 7455), (76.6759901046753, 7658), (77.68063592910767, 7748), (78.68579292297363, 7851), (79.69155097007751, 7954), (80.69650292396545, 8044), (81.69913697242737, 8136), (82.70330095291138, 8238), (83.70878911018372, 8332), (84.71356701850891, 8433), (85.71692490577698, 8526), (86.72025203704834, 8643), (87.7252790927887, 8732), (88.72914505004883, 8829), (89.73455095291138, 8932), (90.7390398979187, 9031), (91.7441759109497, 9135), (92.74720001220703, 9242), (93.75209498405457, 9354), (94.7555980682373, 9457), (95.76033806800842, 9561), (96.76455092430115, 9663), (97.76894998550415, 9752), (98.77450203895569, 9836), (99.77564311027527, 9932), (100.78117489814758, 9932), (101.78666496276855, 10021), (102.79035711288452, 10120), (103.7946789264679, 10205), (104.79820203781128, 10314), (105.80305004119873, 10426), (106.80748391151428, 10510), (107.80948495864868, 10606), (108.81476092338562, 10689), (109.81914210319519, 10798), (110.82382988929749, 10911), (111.82976508140564, 11004), (112.83503198623657, 11107), (113.83956503868103, 11210), (114.84438896179199, 11320), (115.84999895095825, 11420), (116.8555850982666, 11529), (117.85983204841614, 11628), (118.86515998840332, 11739), (119.86930894851685, 11836), (120.8739058971405, 11936), (122.15417098999023, 12039), (123.15808200836182, 12154), (124.16191411018372, 12256), (125.16530990600586, 12356), (126.16858696937561, 12356), (127.17357301712036, 12437), (128.17737698554993, 12534), (129.18249607086182, 12640), (130.1870620250702, 12736), (131.18956589698792, 12947), (132.19466590881348, 13036), (133.19976711273193, 13115), (134.2048900127411, 13204), (135.20859289169312, 13316), (136.21400809288025, 13435), (137.21702909469604, 13542), (138.22001791000366, 13632), (139.22479510307312, 13738), (140.22947692871094, 13866), (141.23491406440735, 13958), (142.23969411849976, 14041), (143.244549036026, 14128), (144.24537301063538, 14223), (145.24978804588318, 14324), (146.25473809242249, 14423), (147.259850025177, 14526), (148.2649440765381, 14612), (149.27020001411438, 14696), (150.2751030921936, 14802), (151.2793710231781, 14894), (152.2836139202118, 14894), (153.28443598747253, 15089), (154.28571200370789, 15175), (155.2898519039154, 15272), (156.29509592056274, 15366), (157.29960799217224, 15456), (158.30513191223145, 15550), (159.31034898757935, 15639), (160.31535410881042, 15752), (161.32022500038147, 15948), (162.32504105567932, 16053), (163.32929801940918, 16150), (164.3340699672699, 16237), (165.33851790428162, 16346), (166.33998608589172, 16443), (167.34492707252502, 16542), (168.34913897514343, 16631), (169.35401892662048, 16728), (170.35731601715088, 16815), (171.36032390594482, 16902), (172.363862991333, 16992), (173.3683159351349, 17096), (174.3734519481659, 17200), (175.37868404388428, 17308), (176.38345789909363, 17424), (177.38720607757568, 17424), (178.39107298851013, 17535), (179.39638090133667, 17652), (180.40266704559326, 17754), (181.70659494400024, 17844), (182.71062302589417, 17940), (183.71531891822815, 18039), (184.71998190879822, 18153), (185.7254159450531, 18250), (186.72989988327026, 18347), (187.73475909233093, 18432), (188.739196062088, 18522), (189.74418592453003, 18617), (190.7451159954071, 18723), (191.7466299533844, 18826), (192.7476270198822, 18933), (193.7530379295349, 19026), (194.75823593139648, 19132), (195.76161289215088, 19232), (196.76745796203613, 19333), (197.77241396903992, 19437), (198.77710509300232, 19540), (199.78308606147766, 19639), (200.78710508346558, 19737), (201.79040694236755, 19857), (202.79512810707092, 19857), (203.79897093772888, 19961), (204.80371403694153, 20066), (205.80957508087158, 20169), (206.8123381137848, 20385), (207.81559300422668, 20481), (208.81989192962646, 20568), (209.8248529434204, 20666), (210.82653498649597, 20765), (211.8320848941803, 20864), (212.8380250930786, 20973), (213.84237599372864, 21049), (214.847501039505, 21144), (215.85011410713196, 21238), (216.85573506355286, 21338), (217.86038303375244, 21442), (218.8648920059204, 21538), (219.86773800849915, 21637), (220.8727080821991, 21745), (221.8779261112213, 21833), (222.8817000389099, 21923), (223.88730096817017, 22021), (224.8925919532776, 22137), (225.89714789390564, 22240), (226.89867997169495, 22337), (227.90440106391907, 22337), (228.91040802001953, 22523), (229.91535210609436, 22624), (230.92121601104736, 22719), (231.92634892463684, 22802), (232.93040299415588, 22922), (233.93549990653992, 23035), (234.94018697738647, 23142), (235.94520497322083, 23253), (236.95065307617188, 23343), (237.95513606071472, 23443), (238.96038603782654, 23553), (239.9653069972992, 23648), (240.97074699401855, 23746), (242.25523209571838, 23841), (243.26005506515503, 23948), (244.26525807380676, 24044), (245.26958894729614, 24146), (246.27486395835876, 24251), (247.27958703041077, 24345), (248.28453302383423, 24435), (249.28898692131042, 24535), (250.29349088668823, 24634), (251.2970449924469, 24732), (252.30304408073425, 24837), (253.30771398544312, 24949), (254.30927109718323, 25046), (255.315288066864, 25159), (256.31735396385193, 25247), (257.3214120864868, 25330), (258.3274779319763, 25440), (259.3327031135559, 25538), (260.33766508102417, 25639), (261.3439919948578, 25741), (262.3476490974426, 25850), (263.35255908966064, 25939), (264.35777401924133, 26035), (265.3618919849396, 26130), (266.36717796325684, 26239), (267.3711121082306, 26338), (268.3760280609131, 26454), (269.3804659843445, 26566), (270.38360500335693, 26653), (271.3872539997101, 26752), (272.3925049304962, 26855), (273.39777302742004, 26974), (274.4030740261078, 27072), (275.40812492370605, 27155), (276.4111750125885, 27257), (277.4172930717468, 27345), (278.4223530292511, 27345), (279.4271159172058, 27460), (280.4327290058136, 27572), (281.43857407569885, 27676), (282.44461703300476, 27767), (283.450884103775, 27975), (284.4553909301758, 28068), (285.46070408821106, 28185), (286.4660360813141, 28289), (287.4708580970764, 28374), (288.4755709171295, 28480), (289.48049902915955, 28600), (290.4854199886322, 28697), (291.4912819862366, 28820), (292.49551010131836, 28911), (293.50077295303345, 29002), (294.5060749053955, 29109), (295.51264905929565, 29208), (296.5169270038605, 29302), (297.52054500579834, 29387), (298.5262360572815, 29491), (299.5305449962616, 29585), (300.53618597984314, 29705), (301.82438802719116, 29900), (302.82574796676636, 30002), (303.82870507240295, 30088), (304.8301160335541, 30165), (305.8352680206299, 30259), (306.84078907966614, 30364), (307.84593510627747, 30473), (308.8495719432831, 30594), (309.8546280860901, 30688), (310.8595130443573, 30780), (311.8651750087738, 30879), (312.8671898841858, 30976), (313.8730459213257, 31080), (314.8781280517578, 31191), (315.8810610771179, 31288), (316.88646507263184, 31393), (317.892117023468, 31503), (318.89571809768677, 31589), (319.89834904670715, 31684), (320.9008960723877, 31790), (321.9062249660492, 31888), (322.91125988960266, 31993), (323.9162390232086, 32109), (324.92109990119934, 32217), (325.9252851009369, 32327), (326.9270648956299, 32327), (327.9308030605316, 32428), (328.93638491630554, 32517), (329.94151997566223, 32620), (330.9476580619812, 32819), (331.95297503471375, 32924), (332.9579589366913, 33034), (333.963828086853, 33143), (334.96558594703674, 33249), (335.97223806381226, 33351), (336.97481393814087, 33448), (337.9806740283966, 33555), (338.98581099510193, 33652), (339.9913320541382, 33756), (340.9968008995056, 33866), (342.0010929107666, 33961), (343.0060501098633, 34059), (344.0078709125519, 34160), (345.01186299324036, 34267), (346.01681900024414, 34356), (347.0232660770416, 34439), (348.0275480747223, 34538), (349.03159499168396, 34634), (350.03568291664124, 34722), (351.0413930416107, 34826), (352.0436260700226, 34826), (353.0484809875488, 35047), (354.0542778968811, 35154), (355.05645203590393, 35250), (356.0610599517822, 35344), (357.06673288345337, 35438), (358.0711100101471, 35542), (359.0761580467224, 35649), (360.08247804641724, 35742), (361.35956501960754, 35837), (362.3642818927765, 35913), (363.3696060180664, 36007), (364.37570095062256, 36100), (365.37705302238464, 36195), (366.3835940361023, 36296), (367.388179063797, 36416), (368.393837928772, 36519), (369.3962380886078, 36625), (370.4010190963745, 36731), (371.4062309265137, 36831), (372.41168904304504, 36939), (373.41711592674255, 37043), (374.4216969013214, 37160), (375.4265789985657, 37254), (376.43337202072144, 37377), (377.43776202201843, 37478), (378.440710067749, 37572), (379.4457139968872, 37666), (380.4482638835907, 37772), (381.4520161151886, 37875), (382.4564130306244, 38001), (383.46195006370544, 38095), (384.4678349494934, 38180), (385.4697570800781, 38281), (386.47384095191956, 38281), (387.4796860218048, 38375), (388.48629808425903, 38471), (389.4921009540558, 38574), (390.5014901161194, 38666), (391.50834488868713, 38863), (392.51883602142334, 38971), (393.5285520553589, 39063), (394.53881311416626, 39147), (395.5494930744171, 39231), (396.5544879436493, 39308), (397.56080198287964, 39407), (398.5646450519562, 39524), (399.57496094703674, 39606), (400.58317494392395, 39697), (401.5918810367584, 39808), (402.6008520126343, 39905), (403.6085820198059, 40011), (404.61688590049744, 40113), (405.6266510486603, 40214), (406.6367599964142, 40311), (407.6458649635315, 40405), (408.6551139354706, 40499), (409.6646590232849, 40594), (410.67372703552246, 40685), (411.6844799518585, 40685), (412.69011092185974, 40773), (413.6974470615387, 40958), (414.6996400356293, 41060), (415.7081038951874, 41149), (416.71622800827026, 41246), (417.7276210784912, 41343), (418.7362380027771, 41426), (419.7455859184265, 41532), (420.7552170753479, 41633), (422.0267210006714, 41735), (423.0379331111908, 41832), (424.04795694351196, 41923), (425.0567810535431, 42019), (426.06406807899475, 42120), (427.07433795928955, 42231), (428.07849311828613, 42332), (429.0875880718231, 42451), (430.0974109172821, 42541), (431.1020998954773, 42643), (432.11295199394226, 42735), (433.12208008766174, 42836), (434.1316819190979, 42946), (435.13873291015625, 43050), (436.1472759246826, 43167), (437.15612411499023, 43167), (438.16085410118103, 43399), (439.17216396331787, 43507), (440.1820878982544, 43593), (441.1938850879669, 43701), (442.2051100730896, 43799), (443.2164669036865, 43896), (444.22084307670593, 44005), (445.2300419807434, 44096), (446.2412929534912, 44207), (447.24634194374084, 44303), (448.2558219432831, 44393), (449.2660479545593, 44488), (450.2753698825836, 44585), (451.2865788936615, 44676), (452.29733395576477, 44779), (453.30677008628845, 44877), (454.3182370662689, 44974), (455.32808208465576, 45069), (456.3378469944, 45173), (457.3452498912811, 45290), (458.3550169467926, 45383), (459.36296701431274, 45482), (460.367928981781, 45572), (461.37759709358215, 45686), (462.38447403907776, 45686), (463.39488911628723, 45783), (464.40222001075745, 45886), (465.40852093696594, 45997), (466.4181740283966, 46102), (467.42908096313477, 46210), (468.4384469985962, 46300), (469.4478669166565, 46394), (470.45846796035767, 46491), (471.46784710884094, 46585), (472.47775292396545, 46698), (473.48740005493164, 46795), (474.49353289604187, 46898), (475.50314807891846, 47000), (476.51314210891724, 47101), (477.52341198921204, 47201), (478.53503704071045, 47304), (479.5456380844116, 47393), (480.55616211891174, 47483), (481.8196909427643, 47584), (482.8279650211334, 47683), (483.83750796318054, 47777), (484.84743189811707, 47858), (485.85134196281433, 47949), (486.8633780479431, 48048), (487.87301111221313, 48145), (488.8767800331116, 48251), (489.88686203956604, 48345), (490.89796209335327, 48461), (491.90550994873047, 48561), (492.9149520397186, 48655), (493.91890001296997, 48753), (494.9294149875641, 48875), (495.94085907936096, 48977), (496.94715189933777, 49094), (497.9545888900757, 49192), (498.96166706085205, 49282), (499.97221088409424, 49369), (500.98360896110535, 49461), (501.9928979873657, 49556), (503.0027461051941, 49650), (504.01161098480225, 49746), (505.0193428993225, 49835), (506.03019309043884, 49938), (507.03914999961853, 49938), (508.04738211631775, 50036), (509.0573079586029, 50231), (510.0683488845825, 50330), (511.07833909988403, 50428), (512.0872919559479, 50524), (513.0982720851898, 50622), (514.1091918945312, 50731), (515.1191658973694, 50838), (516.1289019584656, 50926), (517.1383020877838, 51031), (518.1423969268799, 51120), (519.1462299823761, 51216), (520.1483409404755, 51323), (521.156800031662, 51412), (522.1662518978119, 51513), (523.1777811050415, 51629), (524.1878910064697, 51717), (525.1963169574738, 51914), (526.2057909965515, 52018), (527.2124090194702, 52121), (528.2232940196991, 52208), (529.2335870265961, 52329), (530.2434720993042, 52412), (531.2555179595947, 52501), (532.2648260593414, 52501), (533.271411895752, 52702), (534.2813370227814, 52783), (535.2877440452576, 52862), (536.2957680225372, 52965), (537.299772977829, 53074), (538.3086071014404, 53187), (539.3178861141205, 53288), (540.3288209438324, 53386), (541.6033990383148, 53496), (542.6154119968414, 53600), (543.6237199306488, 53699), (544.6328139305115, 53808), (545.6421151161194, 53917), (546.6481189727783, 53999), (547.6566441059113, 54106), (548.6630759239197, 54181), (549.6681549549103, 54283), (550.6786201000214, 54389), (551.6867179870605, 54487), (552.6967620849609, 54581), (553.7036719322205, 54696), (554.707515001297, 54809), (555.7160971164703, 54899), (556.7187058925629, 55011), (557.7262558937073, 55011), (558.7374649047852, 55115), (559.7474799156189, 55219), (560.7588369846344, 55307), (561.767716884613, 55416), (562.7785370349884, 55521), (563.7901329994202, 55608), (564.7973880767822, 55728), (565.8080229759216, 55827), (566.8098990917206, 55925), (567.8217470645905, 56029), (568.8286790847778, 56127), (569.8375790119171, 56226), (570.8471429347992, 56340), (571.8563089370728, 56447), (572.8600420951843, 56532), (573.8686790466309, 56625), (574.8769149780273, 56739), (575.8861520290375, 56825), (576.8927319049835, 56928), (577.8981471061707, 57025), (578.9033589363098, 57132), (579.9104540348053, 57239), (580.9213631153107, 57325), (581.926393032074, 57433), (582.9359068870544, 57433), (583.9465820789337, 57515), (584.9568109512329, 57613), (585.966835975647, 57720), (586.9782769680023, 57923), (587.9869730472565, 58016), (588.9980490207672, 58110), (590.0086851119995, 58230), (591.0204100608826, 58329), (592.027734041214, 58433), (593.0382659435272, 58523), (594.0483939647675, 58630), (595.0581641197205, 58728), (596.0689239501953, 58817), (597.0793719291687, 58920), (598.0876779556274, 59025), (599.098552942276, 59122), (600.1097249984741, 59219), (601.1203138828278, 59219), (602.1316540241241, 59219), (603.1382389068604, 59219), (604.1478209495544, 59219), (605.1556990146637, 59219), (606.1616280078888, 59219), (607.1704099178314, 59219), (608.1804130077362, 59219), (609.1897699832916, 59219)]

import matplotlib.pyplot as plt
import matplotlib as mpl

l3 = [(x1,t - s) for (x,s), (x1,t) in zip(l, l[1:])]
mpl.rcParams.update({'font.size': 60})

axes = plt.gca()
axes.set_ylim([-5,210])
axes.set_xlim([0,610])

plt.plot(*zip(*l3))
plt.show()

# python experiment.py -l=60 -p=False -v=100 -t=False
# one minute, no failures, constant 100 rpc
l =[(0.0020728111267089844, 0), (1.0059418678283691, 0), (2.010087013244629, 0), (3.0126149654388428, 0), (4.017735004425049, 0), (5.020665884017944, 0), (6.023030996322632, 0), (7.027493000030518, 0), (8.030166864395142, 0), (9.035791873931885, 0), (10.04067087173462, 0), (11.04460597038269, 0), (12.049597024917603, 0), (13.055023908615112, 109), (14.060070991516113, 325), (15.061020851135254, 533), (16.06573486328125, 533), (17.070509910583496, 817), (18.07487201690674, 817), (19.079236030578613, 817), (20.083806037902832, 924), (21.08808183670044, 924), (22.092180967330933, 1351), (23.096781969070435, 1351), (24.102417945861816, 1351), (25.10742688179016, 1560), (26.112046003341675, 1750), (27.11722493171692, 1750), (28.12192988395691, 1750), (29.12669086456299, 1963), (30.13101100921631, 2059), (31.136962890625, 2160), (32.139540910720825, 2160), (33.14540100097656, 2452), (34.14940285682678, 2452), (35.154300928115845, 2452), (36.158509969711304, 2452), (37.162946939468384, 2566), (38.16790795326233, 2659), (39.171504974365234, 2874), (40.17678904533386, 2975), (41.181644916534424, 3073), (42.18649196624756, 3258), (43.1921010017395, 3258), (44.19718384742737, 3358), (45.20177483558655, 3358), (46.20498490333557, 3467), (47.21051383018494, 3467), (48.21450185775757, 3798), (49.21733999252319, 3798), (50.22142195701599, 3798), (51.22585082054138, 4127), (52.23118495941162, 4127), (53.233850955963135, 4239), (54.237387895584106, 4329), (55.23965883255005, 4557), (56.24499297142029, 4731), (57.24805283546448, 4834), (58.252458810806274, 4834), (59.256613969802856, 4918), (60.26125192642212, 5009), (61.266639947891235, 5009), (62.27127385139465, 5009), (63.274789810180664, 5108), (64.27875900268555, 5328), (65.28068685531616, 5430), (66.28201699256897, 5526), (67.28552198410034, 5526), (68.28666591644287, 5622), (69.29106593132019, 5817)]

import matplotlib.pyplot as plt
import matplotlib as mpl

l3 = [(x1,t - s) for (x,s), (x1,t) in zip(l, l[1:])]
mpl.rcParams.update({'font.size': 60})

axes = plt.gca()
axes.set_ylim([-5,210])
axes.set_xlim([0,61])

plt.plot(*zip(*l3))
plt.show()


l = [(0.002959012985229492, 0), (1.0072269439697266, 0), (2.0116939544677734, 0), (3.0158071517944336, 0), (4.020040988922119, 0), (5.025738954544067, 0), (6.030148983001709, 0), (7.034379005432129, 98), (8.03931713104248, 300), (9.043628931045532, 379), (10.045805931091309, 484), (11.050890922546387, 484), (12.054841041564941, 592), (13.0570809841156, 793), (14.06193494796753, 885), (15.066987991333008, 983), (16.072227954864502, 1079), (17.076355934143066, 1165), (18.080726146697998, 1165), (19.08466601371765, 1285), (20.089303970336914, 1578), (21.093657970428467, 1578), (22.09753394126892, 1677), (23.10217308998108, 1774), (24.10697102546692, 1862), (25.11184000968933, 1964), (26.116368055343628, 2062), (27.12186312675476, 2156), (28.126430988311768, 2256), (29.131477117538452, 2256), (30.136178016662598, 2365), (31.140960931777954, 2365), (32.1458420753479, 2574), (33.149842977523804, 2574), (34.155221939086914, 2873), (35.15913414955139, 2873), (36.16323113441467, 2970), (37.16736602783203, 3065), (38.170791149139404, 3065), (39.175841093063354, 3262), (40.18020415306091, 3262), (41.184284925460815, 3474), (42.18633794784546, 3580), (43.188847064971924, 3675), (44.193756103515625, 3778), (45.19521903991699, 3875), (46.19956707954407, 3972), (47.203596115112305, 4073), (48.20831298828125, 4073), (49.211853981018066, 4274), (50.217453956604004, 4369), (51.223068952560425, 4464), (52.227664947509766, 4567), (53.23168992996216, 4669), (54.23610711097717, 4769), (55.240073919296265, 4769), (56.24390411376953, 4864), (57.24850106239319, 4956), (58.25153708457947, 5050), (59.25455403327942, 5152), (60.25886106491089, 5242), (61.58876299858093, 5336), (62.59401202201843, 5436), (63.59683012962341, 5538), (64.60056710243225, 5643), (65.60523414611816, 5728), (66.60999011993408, 5849), (67.61421394348145, 6026), (68.61822009086609, 6026), (69.62339997291565, 6026), (70.62800598144531, 6236), (71.63189101219177, 6328), (72.63549613952637, 6411), (73.6376359462738, 6604), (74.64048910140991, 6604), (75.64496803283691, 6700), (76.6483941078186, 6794), (77.65362310409546, 6887), (78.65722298622131, 6990), (79.66144394874573, 7082), (80.66708302497864, 7082), (81.67302894592285, 7176), (82.67737698554993, 7176), (83.68187403678894, 7498), (84.68617296218872, 7709), (85.69071793556213, 7709), (86.69410300254822, 8013), (87.69829607009888, 8013), (88.70144009590149, 8107), (89.70599412918091, 8107), (90.71069812774658, 8216), (91.71635007858276, 8418), (92.7221930027008, 8506), (93.72650909423828, 8506), (94.73127508163452, 8710), (95.73557996749878, 8803), (96.73950815200806, 8891), (97.74453806877136, 8891), (98.74820709228516, 9107), (99.75378608703613, 9296), (100.7557590007782, 9296), (101.7606589794159, 9381), (102.76508212089539, 9479), (103.77006196975708, 9581), (104.77514004707336, 9680), (105.78020310401917, 9680), (106.78439998626709, 9781), (107.78773212432861, 9781), (108.7905900478363, 9888), (109.79602909088135, 10088), (110.80019497871399, 10190), (111.80542302131653, 10296), (112.80771493911743, 10386), (113.81315994262695, 10480), (114.81862998008728, 10480), (115.82218813896179, 10591), (116.82657098770142, 10790), (117.83150792121887, 10882), (118.83650207519531, 10882), (119.84018111228943, 11088), (120.84434604644775, 11088), (122.08565402030945, 11210), (123.09001612663269, 11431), (124.09542107582092, 11536), (125.09824800491333, 11634), (126.10240292549133, 11634), (127.10766911506653, 11851), (128.1130120754242, 11952), (129.11800503730774, 11952), (130.12456893920898, 12058), (131.12781500816345, 12171), (132.1331639289856, 12274), (133.13750100135803, 12377), (134.14256691932678, 12377), (135.1471230983734, 12765), (136.15059304237366, 12988), (137.15505409240723, 12988), (138.1595220565796, 12988), (139.16350293159485, 13092), (140.1677050590515, 13211), (141.1736090183258, 13409), (142.17829394340515, 13502), (143.18299913406372, 13502), (144.18685793876648, 13621), (145.19163703918457, 13837), (146.19683504104614, 13922), (147.20138907432556, 14032), (148.20566606521606, 14136), (149.21012496948242, 14231), (150.21578407287598, 14231), (151.21915793418884, 14442), (152.22356700897217, 14541), (153.22763514518738, 14635), (154.23077607154846, 14733), (155.23659801483154, 14821), (156.23943495750427, 14821), (157.24471807479858, 14821), (158.2481551170349, 15035), (159.25185203552246, 15133), (160.25658798217773, 15223), (161.26118803024292, 15223), (162.26700401306152, 15333), (163.2711889743805, 15545), (164.2761631011963, 15642), (165.28061413764954, 15730), (166.28536009788513, 15834), (167.2896740436554, 15930), (168.2945671081543, 16016), (169.29880213737488, 16116), (170.3032190799713, 16217), (171.30857014656067, 16301), (172.31371092796326, 16469), (173.3183479309082, 16469), (174.32471299171448, 16568), (175.32655906677246, 16666), (176.33070302009583, 16666), (177.33552503585815, 16785), (178.33921694755554, 16992), (179.34468412399292, 17072), (180.348042011261, 17196), (181.59712314605713, 17196), (182.60199809074402, 17290), (183.6060791015625, 17376), (184.61123204231262, 17487), (185.61643314361572, 17583), (186.62013602256775, 17583), (187.62498712539673, 17691), (188.62886905670166, 17901), (189.63466691970825, 17901), (190.63968014717102, 18296), (191.64488792419434, 18397), (192.64822506904602, 18497), (193.6517550945282, 18497), (194.65669298171997, 18695), (195.65857005119324, 18792), (196.66397714614868, 18977), (197.66685700416565, 18977), (198.67277193069458, 19077), (199.67733311653137, 19173), (200.68115401268005, 19173), (201.68621397018433, 19458), (202.69074392318726, 19458), (203.69644594192505, 19556), (204.69903898239136, 19643), (205.70292210578918, 19643), (206.70729994773865, 19746), (207.71183109283447, 19932), (208.71729493141174, 19932), (209.72196507453918, 20034), (210.7259979248047, 20134), (211.73087692260742, 20134), (212.73529410362244, 20237), (213.73849606513977, 20433), (214.74440002441406, 20433), (215.74876499176025, 20633), (216.7525999546051, 20722), (217.75653100013733, 20824), (218.76264715194702, 20916), (219.76873803138733, 21002), (220.77247095108032, 21002), (221.77717804908752, 21214), (222.78239607810974, 21214), (223.78563809394836, 21330), (224.79027605056763, 21531), (225.79507994651794, 21626), (226.7991440296173, 21626), (227.8032989501953, 21736), (228.8083200454712, 21949), (229.81281900405884, 22041), (230.81763195991516, 22136), (231.8233060836792, 22136), (232.82681608200073, 22230), (233.83247900009155, 22333), (234.83427715301514, 22333), (235.83733105659485, 22544), (236.84332513809204, 22644), (237.84910202026367, 22644), (238.85311102867126, 22852), (239.85780811309814, 22951), (240.863872051239, 23044), (242.10956811904907, 23152), (243.1135709285736, 23258), (244.11789894104004, 23360), (245.12279605865479, 23549), (246.12664604187012, 23549), (247.12985610961914, 23862), (248.13561701774597, 23957), (249.1394190788269, 24055), (250.14551901817322, 24055), (251.15031909942627, 24256), (252.1560139656067, 24344), (253.1606409549713, 24564), (254.16401410102844, 24664), (255.1683521270752, 24759), (256.1736960411072, 24854), (257.17876410484314, 24854), (258.1838610172272, 24854), (259.1895649433136, 25063), (260.1954309940338, 25164), (261.1970670223236, 25257), (262.2000660896301, 25257), (263.20469403266907, 25376), (264.20748114585876, 25582), (265.2134029865265, 25582), (266.21634006500244, 25691), (267.2225329875946, 25896), (268.22669506073, 25896), (269.23212695121765, 26200), (270.2372109889984, 26200), (271.2427821159363, 26200), (272.2468309402466, 26399), (273.25069212913513, 26488), (274.2558090686798, 26488), (275.2580120563507, 26591), (276.26388812065125, 26704), (277.26881194114685, 26908), (278.2739119529724, 26908), (279.27918696403503, 27110), (280.28428292274475, 27209), (281.2892470359802, 27209), (282.2935559749603, 27316), (283.29863595962524, 27418), (284.30379700660706, 27418), (285.3068461418152, 27637), (286.3133990764618, 27740), (287.3184959888458, 27836), (288.3224160671234, 27836), (289.3269829750061, 28049), (290.3322660923004, 28151), (291.3381459712982, 28243), (292.33935713768005, 28243), (293.34102511405945, 28456), (294.3453941345215, 28555), (295.34896993637085, 28555), (296.3524651527405, 28752), (297.3574221134186, 28839), (298.36321115493774, 28941), (299.36773204803467, 29048), (300.3738250732422, 29154), (301.6253480911255, 29906), (302.6308970451355, 29906), (303.63598799705505, 29906), (304.6388189792633, 29906), (305.6429741382599, 29906), (306.6457531452179, 29906), (307.6496329307556, 29906), (308.65565299987793, 29996), (309.6592719554901, 30105), (310.66240310668945, 30226), (311.66697907447815, 30437), (312.67049407958984, 30531), (313.67471194267273, 30531), (314.67992901802063, 30634), (315.6827280521393, 30843), (316.68735814094543, 30843), (317.6889159679413, 30955), (318.69434213638306, 31060), (319.69951009750366, 31173), (320.70444202423096, 31291), (321.7063159942627, 31401), (322.7094941139221, 31511), (323.7147579193115, 31724), (324.71913409233093, 31821), (325.7248411178589, 31913), (326.7292170524597, 32013), (327.7352750301361, 32112), (328.73961997032166, 32210), (329.746062040329, 32210), (330.7494559288025, 32416), (331.7530400753021, 32416), (332.75797414779663, 32520), (333.76374793052673, 32520), (334.7693450450897, 32704), (335.7751030921936, 32808), (336.77930212020874, 32906), (337.7831540107727, 32998), (338.78492999076843, 33098), (339.7956290245056, 33199), (340.7968189716339, 33199), (341.8061640262604, 33480), (342.81694507598877, 33480), (343.8265690803528, 33569), (344.8330969810486, 33659), (345.839084148407, 33755), (346.8491630554199, 33755), (347.8583149909973, 33956), (348.8692579269409, 33956), (349.87839794158936, 34167), (350.8873920440674, 34273), (351.89586901664734, 34381), (352.89986395835876, 34597), (353.90649008750916, 34597), (354.9118540287018, 34807), (355.9229049682617, 34807), (356.92878007888794, 34911), (357.93726205825806, 34911), (358.9460859298706, 35124), (359.95341396331787, 35124), (360.95721197128296, 35234), (362.2266550064087, 35447), (363.23564100265503, 35550), (364.2457950115204, 35550), (365.25085401535034, 35773), (366.2587511539459, 35969), (367.26391100883484, 35969), (368.2722520828247, 35969), (369.28160095214844, 35969), (370.28749108314514, 35969), (371.295921087265, 35969), (372.3062300682068, 35969), (373.3088140487671, 35969), (374.3108880519867, 36062), (375.32169103622437, 36161), (376.331228017807, 36346), (377.3370671272278, 36544), (378.3463189601898, 36544), (379.35576009750366, 36633), (380.3634910583496, 36633), (381.37552404403687, 36748), (382.37770199775696, 36942), (383.38853907585144, 37140), (384.39786195755005, 37140), (385.4082419872284, 37329), (386.41347193717957, 37329), (387.421226978302, 37329), (388.42783093452454, 37518), (389.4336440563202, 37625), (390.4404330253601, 37724), (391.45141792297363, 37724), (392.4605710506439, 37827), (393.4713730812073, 37933), (394.4776260852814, 38135), (395.4860110282898, 38135), (396.49616599082947, 38135), (397.5042390823364, 38343), (398.5136971473694, 38543), (399.5214800834656, 38543), (400.53095602989197, 38543), (401.5372910499573, 38759), (402.5460960865021, 38759), (403.55262899398804, 38854), (404.5550789833069, 38968), (405.5638589859009, 39069), (406.5746400356293, 39376), (407.5811791419983, 39376), (408.5908110141754, 39473), (409.5991859436035, 39571), (410.6077649593353, 39673), (411.61907505989075, 39778), (412.6292929649353, 39778), (413.6394000053406, 39988), (414.6475179195404, 40090), (415.65252900123596, 40090), (416.66125106811523, 40202), (417.66884303092957, 40316), (418.67796993255615, 40528), (419.6863639354706, 40710), (420.69684195518494, 40710), (422.00044298171997, 40812), (423.0026240348816, 40812), (424.01297998428345, 40896), (425.02352595329285, 40997), (426.03302812576294, 41113), (427.0421850681305, 41200), (428.04771304130554, 41314), (429.05779814720154, 41314), (430.06719613075256, 41433), (431.0774700641632, 41624), (432.0834300518036, 41740), (433.09171199798584, 41740), (434.10216212272644, 41850), (435.10882902145386, 42061), (436.11872911453247, 42163), (437.1287350654602, 42163), (438.13828015327454, 42368), (439.1471710205078, 42569), (440.15147709846497, 42569), (441.1595730781555, 42671), (442.1707389354706, 42774), (443.1793510913849, 43064), (444.18821811676025, 43064), (445.19719409942627, 43156), (446.203488111496, 43156), (447.2127890586853, 43257), (448.22334599494934, 43341), (449.2292630672455, 43453), (450.2336959838867, 43453), (451.23826599121094, 43743), (452.247141122818, 43843), (453.25135707855225, 43933), (454.25800609588623, 43933), (455.26852107048035, 44035), (456.2781751155853, 44136), (457.2817130088806, 44235), (458.2861759662628, 44327), (459.2973790168762, 44327), (460.3072531223297, 44438), (461.31394600868225, 44548), (462.3252320289612, 44651), (463.33546710014343, 44859), (464.34641695022583, 44859), (465.35583114624023, 45078), (466.3645861148834, 45180), (467.3736560344696, 45180), (468.38171195983887, 45380), (469.39077591896057, 45488), (470.4020700454712, 45488), (471.4135329723358, 45700), (472.4234631061554, 45700), (473.4299750328064, 45795), (474.43880701065063, 45795), (475.447979927063, 45890), (476.45875692367554, 46108), (477.4683201313019, 46108), (478.4783251285553, 46325), (479.488009929657, 46325), (480.4968750476837, 46426), (481.7360870838165, 46725), (482.7465169429779, 46818), (483.7556481361389, 46818), (484.7640640735626, 46818), (485.7742280960083, 46911), (486.7830460071564, 47145), (487.7893581390381, 47237), (488.79901003837585, 47433), (489.80905199050903, 47433), (490.8144271373749, 47512), (491.82459712028503, 47620), (492.8326599597931, 47729), (493.8372859954834, 47822), (494.84661293029785, 47924), (495.8513491153717, 47924), (496.86169505119324, 48325), (497.8696839809418, 48325), (498.8784201145172, 48325), (499.8877010345459, 48325), (500.8987090587616, 48838), (501.90998697280884, 48946), (502.9183509349823, 49051), (503.9287350177765, 49252), (504.9380669593811, 49351), (505.9473419189453, 49538), (506.9556050300598, 49538), (507.9635169506073, 49631), (508.97400403022766, 49631), (509.9783790111542, 49631), (510.987811088562, 50033), (511.9967420101166, 50128), (513.0011210441589, 50217), (514.0091531276703, 50217), (515.0188491344452, 50317), (516.0280311107635, 50407), (517.0340371131897, 50610), (518.0428619384766, 50610), (519.0472121238708, 50610), (520.049399137497, 50720), (521.058995962143, 50819), (522.0701410770416, 50936), (523.0790791511536, 51134), (524.087963104248, 51134), (525.0970239639282, 51323), (526.1078369617462, 51421), (527.1114580631256, 51421), (528.1196329593658, 51604), (529.1294341087341, 51604), (530.1384460926056, 51604), (531.1469020843506, 51696), (532.158035993576, 51820), (533.1673719882965, 51918), (534.1783320903778, 52144), (535.188982963562, 52144), (536.198333978653, 52329), (537.2020289897919, 52445), (538.2094130516052, 52541), (539.2182741165161, 52645), (540.2287991046906, 52645), (541.5285501480103, 52645), (542.5409331321716, 52852), (543.5481181144714, 52936), (544.5595481395721, 52936), (545.567883014679, 53031), (546.5775680541992, 53031), (547.5868320465088, 53937), (548.5968959331512, 54144), (549.6087851524353, 54248), (550.6192810535431, 54344), (551.6289939880371, 54448), (552.6379730701447, 54554), (553.6475510597229, 54657), (554.6590330600739, 54657), (555.6693639755249, 54876), (556.6786179542542, 54876), (557.6841950416565, 55095), (558.6928570270538, 55197), (559.7010109424591, 55197), (560.7098879814148, 55409), (561.7136490345001, 55409), (562.7244510650635, 55617), (563.7336220741272, 55719), (564.7389249801636, 55818), (565.748733997345, 55818), (566.7597870826721, 55933), (567.7651460170746, 56026), (568.7747161388397, 56126), (569.7785251140594, 56213), (570.7899250984192, 56296), (571.8005530834198, 56418), (572.806841135025, 56418), (573.8145480155945, 56625), (574.8246729373932, 56806), (575.8333349227905, 56806), (576.8353741168976, 56988), (577.8431780338287, 56988), (578.8470709323883, 57085), (579.856861114502, 57085), (580.8592820167542, 57288), (581.8692810535431, 57395), (582.880805015564, 57483), (583.8888020515442, 57586), (584.9001219272614, 57678), (585.909786939621, 57771), (586.9192631244659, 57865), (587.9298810958862, 57967), (588.9393980503082, 58065), (589.9473431110382, 58163), (590.9567670822144, 58163), (591.960422039032, 58276), (592.9716379642487, 58276), (593.9799270629883, 58482), (594.9911921024323, 58482), (595.998279094696, 58695), (597.010097026825, 58799), (598.0122470855713, 58898), (599.0217010974884, 59001), (600.0288939476013, 59097), (601.0379610061646, 59195), (602.0469229221344, 59268), (603.0551810264587, 59378), (604.059023141861, 59378), (605.0701251029968, 59378), (606.0787179470062, 59476), (607.0858571529388, 59575), (608.0970969200134, 59575), (609.0996670722961, 59575)]
'''
vFiber shutdown on server '1' at time 60.258865118
vFiber started on server '1' at time 120.8443501
vFiber shutdown on server '1' at time 180.348043919
vFiber started on server '1' at time 240.863876104
vFiber shutdown on server '3' at time 300.37383008
vFiber started on server '3' at time 360.957215071
vFiber shutdown on server '1' at time 420.696845055
vFiber started on server '1' at time 480.496876955
vFiber shutdown on server '2' at time 540.228806019
'''

import matplotlib.pyplot as plt
import matplotlib as mpl

l3 = [(x1,t - s) for (x,s), (x1,t) in zip(l, l[1:])]
mpl.rcParams.update({'font.size': 60})

axes = plt.gca()
axes.set_ylim([-5,350])
axes.set_xlim([0,601])


dead = [60.258865118, 180.348043919, 300.37383008, 420.696845055, 540.228806019]
for p in dead:
    plt.axvline(x=p, color = 'red')

revive = [120.8443501, 240.863876104, 360.957215071, 480.496876955]
for p in revive:
    plt.axvline(x=p, color = 'green')


plt.plot(*zip(*l3))
plt.show()
